2025-06-18 13:46:53,691 - __main__ - INFO - Khởi động ứng dụng MyAI...
2025-06-18 13:46:53,776 - __main__ - DEBUG - Đang tạo cửa sổ chính...
2025-06-18 13:46:53,887 - __main__ - DEBUG - Đang khởi tạo MainWindow...
2025-06-18 13:46:53,896 - models.database - INFO - Khởi tạo DatabaseManager...
2025-06-18 13:46:53,897 - models.database - DEBUG - Tạo kết nối ban đầu...
2025-06-18 13:46:53,897 - models.database - DEBUG - Thiết lập các tùy chọn SQLite...
2025-06-18 13:46:53,899 - models.database - DEBUG - Tạo các bảng...
2025-06-18 13:46:53,899 - models.database - DEBUG - Bắt đầu tạo các bảng...
2025-06-18 13:46:53,899 - models.database - DEBUG - Tạo các index...
2025-06-18 13:46:53,899 - models.database - ERROR - Lỗi tạo bảng: no such column: endpoint
Traceback (most recent call last):
  File "H:\my_ai\models\database.py", line 162, in _create_tables
    self.conn.execute('CREATE INDEX IF NOT EXISTS idx_api_cache_endpoint ON api_cache(endpoint)')
    ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
sqlite3.OperationalError: no such column: endpoint
2025-06-18 13:46:53,900 - models.database - ERROR - Lỗi khởi tạo DatabaseManager: Không thể tạo các bảng: no such column: endpoint
Traceback (most recent call last):
  File "H:\my_ai\models\database.py", line 162, in _create_tables
    self.conn.execute('CREATE INDEX IF NOT EXISTS idx_api_cache_endpoint ON api_cache(endpoint)')
    ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
sqlite3.OperationalError: no such column: endpoint

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "H:\my_ai\models\database.py", line 60, in __init__
    self._create_tables()
    ~~~~~~~~~~~~~~~~~~~^^
  File "H:\my_ai\models\database.py", line 171, in _create_tables
    raise DatabaseError(f"Không thể tạo các bảng: {str(e)}")
utils.error_handler.DatabaseError: Không thể tạo các bảng: no such column: endpoint
2025-06-18 13:46:53,901 - __main__ - ERROR - Lỗi khởi tạo MainWindow: Không thể khởi tạo DatabaseManager: Không thể tạo các bảng: no such column: endpoint
Traceback (most recent call last):
  File "H:\my_ai\models\database.py", line 162, in _create_tables
    self.conn.execute('CREATE INDEX IF NOT EXISTS idx_api_cache_endpoint ON api_cache(endpoint)')
    ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
sqlite3.OperationalError: no such column: endpoint

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "H:\my_ai\models\database.py", line 60, in __init__
    self._create_tables()
    ~~~~~~~~~~~~~~~~~~~^^
  File "H:\my_ai\models\database.py", line 171, in _create_tables
    raise DatabaseError(f"Không thể tạo các bảng: {str(e)}")
utils.error_handler.DatabaseError: Không thể tạo các bảng: no such column: endpoint

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "H:\my_ai\main.py", line 130, in __init__
    self.db = DatabaseManager(os.path.join('data', 'database', 'database.db'))
              ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "H:\my_ai\models\database.py", line 78, in __init__
    raise DatabaseError(f"Không thể khởi tạo DatabaseManager: {str(e)}")
utils.error_handler.DatabaseError: Không thể khởi tạo DatabaseManager: Không thể tạo các bảng: no such column: endpoint
2025-06-18 13:46:53,909 - __main__ - ERROR - Lỗi khởi tạo MainWindow: Không thể khởi tạo DatabaseManager: Không thể tạo các bảng: no such column: endpoint
Traceback (most recent call last):
  File "H:\my_ai\models\database.py", line 162, in _create_tables
    self.conn.execute('CREATE INDEX IF NOT EXISTS idx_api_cache_endpoint ON api_cache(endpoint)')
    ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
sqlite3.OperationalError: no such column: endpoint

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "H:\my_ai\models\database.py", line 60, in __init__
    self._create_tables()
    ~~~~~~~~~~~~~~~~~~~^^
  File "H:\my_ai\models\database.py", line 171, in _create_tables
    raise DatabaseError(f"Không thể tạo các bảng: {str(e)}")
utils.error_handler.DatabaseError: Không thể tạo các bảng: no such column: endpoint

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "H:\my_ai\main.py", line 422, in main
    app = MainWindow(root, loading_window, loading_label, progress_bar)
  File "H:\my_ai\main.py", line 130, in __init__
    self.db = DatabaseManager(os.path.join('data', 'database', 'database.db'))
              ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "H:\my_ai\models\database.py", line 78, in __init__
    raise DatabaseError(f"Không thể khởi tạo DatabaseManager: {str(e)}")
utils.error_handler.DatabaseError: Không thể khởi tạo DatabaseManager: Không thể tạo các bảng: no such column: endpoint
2025-06-18 13:46:55,662 - __main__ - INFO - Đóng ứng dụng MyAI...
2025-06-18 13:48:30,211 - __main__ - INFO - Khởi động ứng dụng MyAI...
2025-06-18 13:48:30,291 - __main__ - DEBUG - Đang tạo cửa sổ chính...
2025-06-18 13:48:30,451 - __main__ - DEBUG - Đang khởi tạo MainWindow...
2025-06-18 13:48:30,462 - models.database - INFO - Khởi tạo DatabaseManager...
2025-06-18 13:48:30,463 - models.database - DEBUG - Tạo kết nối ban đầu...
2025-06-18 13:48:30,465 - models.database - DEBUG - Thiết lập các tùy chọn SQLite...
2025-06-18 13:48:30,482 - models.database - DEBUG - Tạo các bảng...
2025-06-18 13:48:30,482 - models.database - DEBUG - Bắt đầu tạo các bảng...
2025-06-18 13:48:30,483 - models.database - INFO - Đã cập nhật schema cho bảng weather_data
2025-06-18 13:48:30,483 - models.database - INFO - Cập nhật schema bảng api_cache: thêm cột endpoint
2025-06-18 13:48:30,485 - models.database - INFO - Cập nhật schema bảng api_cache: thêm cột response
2025-06-18 13:48:30,485 - models.database - INFO - Cập nhật schema bảng api_cache: thêm cột timestamp
2025-06-18 13:48:30,486 - models.database - INFO - Đã cập nhật schema cho bảng api_cache
2025-06-18 13:48:30,486 - models.database - INFO - Cập nhật schema bảng user_interactions_log: thêm cột interaction_type
2025-06-18 13:48:30,486 - models.database - INFO - Cập nhật schema bảng user_interactions_log: thêm cột details
2025-06-18 13:48:30,486 - models.database - INFO - Đã cập nhật schema cho bảng user_interactions_log
2025-06-18 13:48:30,487 - models.database - DEBUG - Tạo các index...
2025-06-18 13:48:30,487 - models.database - INFO - Đã tạo các bảng và index thành công
2025-06-18 13:48:30,487 - models.database - DEBUG - Khởi tạo connection pool...
2025-06-18 13:48:30,488 - models.database - DEBUG - Khởi tạo cache...
2025-06-18 13:48:30,488 - models.database - INFO - DatabaseManager đã được khởi tạo thành công
2025-06-18 13:48:30,500 - __main__ - INFO - Ứng dụng đã sẵn sàng!
2025-06-18 13:48:30,828 - views.components.greeting_frame - DEBUG - Khởi tạo GreetingFrame...
2025-06-18 13:48:30,856 - views.components.greeting_frame - DEBUG - Cập nhật lời chào và thời gian lần đầu...
2025-06-18 13:48:30,859 - views.components.greeting_frame - DEBUG - Cập nhật greeting_label với text: Chào buổi chiều Dương Huy!
2025-06-18 13:48:30,860 - views.components.greeting_frame - DEBUG - Cập nhật greeting_label với text: Chào buổi chiều Dương Huy!
2025-06-18 13:48:30,860 - views.components.greeting_frame - DEBUG - Khởi tạo GreetingFrame hoàn tất.
2025-06-18 13:48:31,018 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): api.openweathermap.org:80
2025-06-18 13:48:31,301 - urllib3.connectionpool - DEBUG - http://api.openweathermap.org:80 "GET /data/2.5/weather?q=Hanoi&appid=1cfcda7a3ee2a0f49e546a462ef6851b&units=metric&lang=vi HTTP/1.1" 200 515
2025-06-18 13:48:31,303 - views.components.weather_frame - DEBUG - Dữ liệu thời tiết từ WeatherService: {'city': 'Hanoi', 'temperature': 34, 'description': 'mây đen u ám', 'humidity': 55, 'wind_speed': 3.88}
2025-06-18 13:48:31,303 - views.components.weather_frame - DEBUG - Dữ liệu thời tiết nhận được: {'city': 'Hanoi', 'temperature': 34, 'description': 'mây đen u ám', 'humidity': 55, 'wind_speed': 3.88}
2025-06-18 13:48:31,321 - PIL.PngImagePlugin - DEBUG - STREAM b'IHDR' 16 13
2025-06-18 13:48:31,321 - PIL.PngImagePlugin - DEBUG - STREAM b'IDAT' 41 1741
2025-06-18 13:48:31,336 - views.components.weather_frame - DEBUG - Cập nhật thông tin hàng đầu thành công.
2025-06-18 13:48:31,338 - views.components.weather_frame - DEBUG - Cập nhật labels chính thành công.
2025-06-18 13:48:31,338 - views.components.weather_frame - DEBUG - Cập nhật metrics thành công.
2025-06-18 13:48:31,339 - views.components.weather_frame - DEBUG - Cập nhật mô tả dự báo hàng ngày thành công.
2025-06-18 13:48:32,127 - models.knowledge_base - INFO - Loaded 4 rules from H:\my_ai\models\knowledge_base.json.
2025-06-18 13:48:32,127 - controllers.inference_engine - INFO - Inference Engine initialized.
2025-06-18 13:48:32,127 - controllers.rule_suggester - INFO - Rule Suggester initialized.
2025-06-18 13:48:32,130 - __main__ - INFO - Bắt đầu suy luận hệ chuyên gia...
2025-06-18 13:48:32,130 - services.fact_collector - ERROR - Lỗi khi thu thập dữ liệu từ cơ sở dữ liệu: 'DatabaseManager' object has no attribute 'get_recent_applications'
Traceback (most recent call last):
  File "H:\my_ai\services\fact_collector.py", line 41, in collect_facts
    recent_apps = self.db.get_recent_applications(limit=5)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'DatabaseManager' object has no attribute 'get_recent_applications'. Did you mean: 'get_recent_interactions'?
2025-06-18 13:48:32,132 - __main__ - INFO - Các sự kiện thu thập được: {'time_category': 'afternoon', 'day_of_week': 'Wednesday', 'current_hour': 13, 'has_schedule': False, 'schedule_count': 0}
2025-06-18 13:48:32,132 - __main__ - ERROR - Lỗi khi chạy suy luận hệ chuyên gia: 'RuleSuggester' object has no attribute 'infer_rules'
Traceback (most recent call last):
  File "H:\my_ai\main.py", line 178, in _run_expert_system_inference
    recommendations = self.rule_suggester.infer_rules(facts)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'RuleSuggester' object has no attribute 'infer_rules'
2025-06-18 13:48:35,018 - __main__ - INFO - Cập nhật thời gian: 13:48:35
2025-06-18 13:48:35,018 - __main__ - ERROR - Error in update_colors: ['bg'] are not supported arguments. Look at the documentation for supported arguments.
Traceback (most recent call last):
  File "H:\my_ai\main.py", line 210, in update_colors
    self.main_frame.configure(bg='#f0f0f0') # Example color
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^
  File "H:\my_ai\.venv\Lib\site-packages\customtkinter\windows\widgets\ctk_frame.py", line 167, in configure
    super().configure(require_redraw=require_redraw, **kwargs)
    ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "H:\my_ai\.venv\Lib\site-packages\customtkinter\windows\widgets\core_widget_classes\ctk_base_class.py", line 133, in configure
    check_kwargs_empty(kwargs, raise_error=True)
    ~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "H:\my_ai\.venv\Lib\site-packages\customtkinter\windows\widgets\utility\utility_functions.py", line 18, in check_kwargs_empty
    raise ValueError(f"{list(kwargs_dict.keys())} are not supported arguments. Look at the documentation for supported arguments.")
ValueError: ['bg'] are not supported arguments. Look at the documentation for supported arguments.
2025-06-18 13:52:32,187 - __main__ - INFO - Khởi động ứng dụng MyAI...
2025-06-18 13:52:32,395 - __main__ - DEBUG - Đang khởi tạo MainWindow...
2025-06-18 13:52:32,454 - models.database - INFO - Khởi tạo DatabaseManager...
2025-06-18 13:52:32,454 - models.database - DEBUG - Tạo kết nối ban đầu...
2025-06-18 13:52:32,457 - models.database - DEBUG - Thiết lập các tùy chọn SQLite...
2025-06-18 13:52:32,462 - models.database - DEBUG - Tạo các bảng...
2025-06-18 13:52:32,462 - models.database - DEBUG - Bắt đầu tạo các bảng...
2025-06-18 13:52:32,463 - models.database - INFO - Đã cập nhật schema cho bảng weather_data
2025-06-18 13:52:32,463 - models.database - INFO - Đã cập nhật schema cho bảng api_cache
2025-06-18 13:52:32,463 - models.database - INFO - Đã cập nhật schema cho bảng user_interactions_log
2025-06-18 13:52:32,463 - models.database - DEBUG - Tạo các index...
2025-06-18 13:52:32,463 - models.database - INFO - Đã tạo các bảng và index thành công
2025-06-18 13:52:32,463 - models.database - DEBUG - Khởi tạo connection pool...
2025-06-18 13:52:32,463 - models.database - DEBUG - Khởi tạo cache...
2025-06-18 13:52:32,463 - models.database - INFO - DatabaseManager đã được khởi tạo thành công
2025-06-18 13:52:32,472 - __main__ - INFO - Ứng dụng đã sẵn sàng!
2025-06-18 13:52:32,756 - views.components.greeting_frame - DEBUG - Khởi tạo GreetingFrame...
2025-06-18 13:52:32,765 - views.components.greeting_frame - DEBUG - Cập nhật lời chào và thời gian lần đầu...
2025-06-18 13:52:32,765 - views.components.greeting_frame - DEBUG - Cập nhật greeting_label với text: Chào buổi chiều Dương Huy!
2025-06-18 13:52:32,765 - views.components.greeting_frame - DEBUG - Cập nhật greeting_label với text: Chào buổi chiều Dương Huy!
2025-06-18 13:52:32,765 - views.components.greeting_frame - DEBUG - Khởi tạo GreetingFrame hoàn tất.
2025-06-18 13:52:32,845 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): api.openweathermap.org:80
2025-06-18 13:52:33,142 - urllib3.connectionpool - DEBUG - http://api.openweathermap.org:80 "GET /data/2.5/weather?q=Hanoi&appid=1cfcda7a3ee2a0f49e546a462ef6851b&units=metric&lang=vi HTTP/1.1" 200 512
2025-06-18 13:52:33,143 - views.components.weather_frame - DEBUG - Dữ liệu thời tiết từ WeatherService: {'city': 'Hanoi', 'temperature': 35, 'description': 'mây đen u ám', 'humidity': 55, 'wind_speed': 3.88}
2025-06-18 13:52:33,143 - views.components.weather_frame - DEBUG - Dữ liệu thời tiết nhận được: {'city': 'Hanoi', 'temperature': 35, 'description': 'mây đen u ám', 'humidity': 55, 'wind_speed': 3.88}
2025-06-18 13:52:33,162 - PIL.PngImagePlugin - DEBUG - STREAM b'IHDR' 16 13
2025-06-18 13:52:33,162 - PIL.PngImagePlugin - DEBUG - STREAM b'IDAT' 41 1741
2025-06-18 13:52:33,173 - views.components.weather_frame - ERROR - Lỗi khi cập nhật thời tiết: image "pyimage1" doesn't exist
2025-06-18 13:52:33,173 - services.error_correction_service - ERROR - Error in weather: RUNTIME_ERROR - image "pyimage1" doesn't exist
2025-06-18 13:52:33,173 - services.error_correction_service - DEBUG - Context: An unexpected error occurred during weather update.
2025-06-18 13:52:34,077 - models.knowledge_base - INFO - Loaded 4 rules from H:\my_ai\models\knowledge_base.json.
2025-06-18 13:52:34,077 - controllers.inference_engine - INFO - Inference Engine initialized.
2025-06-18 13:52:34,077 - controllers.rule_suggester - INFO - Rule Suggester initialized.
2025-06-18 13:52:34,081 - __main__ - INFO - Bắt đầu suy luận hệ chuyên gia...
2025-06-18 13:52:34,083 - services.fact_collector - ERROR - Lỗi khi thu thập dữ liệu từ cơ sở dữ liệu: 'name'
Traceback (most recent call last):
  File "H:\my_ai\services\fact_collector.py", line 43, in collect_facts
    facts['recent_apps'] = [app['name'] for app in recent_apps]
                            ~~~^^^^^^^^
KeyError: 'name'
2025-06-18 13:52:34,084 - __main__ - INFO - Các sự kiện thu thập được: {'time_category': 'afternoon', 'day_of_week': 'Wednesday', 'current_hour': 13, 'has_schedule': False, 'schedule_count': 0}
2025-06-18 13:52:34,084 - controllers.rule_suggester - INFO - Bắt đầu suy luận quy tắc từ facts...
2025-06-18 13:52:34,084 - controllers.inference_engine - INFO - Inference Engine initialized.
2025-06-18 13:52:34,085 - controllers.inference_engine - INFO - Bắt đầu suy luận với facts: {'time_category': 'afternoon', 'day_of_week': 'Wednesday', 'current_hour': 13, 'has_schedule': False, 'schedule_count': 0}
2025-06-18 13:52:34,085 - controllers.inference_engine - INFO - Số lượng quy tắc: 4
2025-06-18 13:52:34,085 - controllers.inference_engine - INFO - 
Đánh giá quy tắc: rule_1_rainy_gym
2025-06-18 13:52:34,085 - controllers.inference_engine - INFO - Mô tả: Nếu trời mưa và có lịch tập Gym, đề xuất mang ô/áo mưa.
2025-06-18 13:52:34,085 - controllers.inference_engine - WARNING - Fact 'weather_condition' không tồn tại cho quy tắc 'rule_1_rainy_gym'
2025-06-18 13:52:34,085 - controllers.inference_engine - INFO - Quy tắc 'rule_1_rainy_gym' không được kích hoạt
2025-06-18 13:52:34,085 - controllers.inference_engine - INFO - 
Đánh giá quy tắc: rule_2_morning_vscode
2025-06-18 13:52:34,085 - controllers.inference_engine - INFO - Mô tả: Nếu là buổi sáng và VSCode chưa mở, đề xuất mở VSCode.
2025-06-18 13:52:34,085 - controllers.inference_engine - INFO - Đánh giá điều kiện: time_category == morning
2025-06-18 13:52:34,085 - controllers.inference_engine - INFO - Giá trị thực tế: afternoon
2025-06-18 13:52:34,085 - controllers.inference_engine - DEBUG - Đánh giá điều kiện: fact_value=afternoon, operator===, condition_value=morning
2025-06-18 13:52:34,085 - controllers.inference_engine - DEBUG - Kết quả đánh giá: False
2025-06-18 13:52:34,085 - controllers.inference_engine - INFO - Điều kiện không thỏa mãn cho quy tắc 'rule_2_morning_vscode'
2025-06-18 13:52:34,085 - controllers.inference_engine - INFO - Quy tắc 'rule_2_morning_vscode' không được kích hoạt
2025-06-18 13:52:34,085 - controllers.inference_engine - INFO - 
Đánh giá quy tắc: rule_3_weekend_relax
2025-06-18 13:52:34,085 - controllers.inference_engine - INFO - Mô tả: Nếu là cuối tuần và không có lịch trình cụ thể, đề xuất nghỉ ngơi/giải trí.
2025-06-18 13:52:34,085 - controllers.inference_engine - INFO - Đánh giá điều kiện: day_of_week in ['Saturday', 'Sunday']
2025-06-18 13:52:34,085 - controllers.inference_engine - INFO - Giá trị thực tế: Wednesday
2025-06-18 13:52:34,085 - controllers.inference_engine - DEBUG - Đánh giá điều kiện: fact_value=Wednesday, operator=in, condition_value=['Saturday', 'Sunday']
2025-06-18 13:52:34,085 - controllers.inference_engine - DEBUG - Kết quả đánh giá: False
2025-06-18 13:52:34,085 - controllers.inference_engine - INFO - Điều kiện không thỏa mãn cho quy tắc 'rule_3_weekend_relax'
2025-06-18 13:52:34,085 - controllers.inference_engine - INFO - Quy tắc 'rule_3_weekend_relax' không được kích hoạt
2025-06-18 13:52:34,085 - controllers.inference_engine - INFO - 
Đánh giá quy tắc: rule_4_afternoon_break
2025-06-18 13:52:34,085 - controllers.inference_engine - INFO - Mô tả: Nếu là buổi chiều và lịch trình trống, đề xuất nghỉ ngơi.
2025-06-18 13:52:34,085 - controllers.inference_engine - INFO - Đánh giá điều kiện: time_category == afternoon
2025-06-18 13:52:34,085 - controllers.inference_engine - INFO - Giá trị thực tế: afternoon
2025-06-18 13:52:34,085 - controllers.inference_engine - DEBUG - Đánh giá điều kiện: fact_value=afternoon, operator===, condition_value=afternoon
2025-06-18 13:52:34,085 - controllers.inference_engine - DEBUG - Kết quả đánh giá: True
2025-06-18 13:52:34,085 - controllers.inference_engine - WARNING - Fact 'schedule_empty_or_flexible' không tồn tại cho quy tắc 'rule_4_afternoon_break'
2025-06-18 13:52:34,085 - controllers.inference_engine - INFO - Quy tắc 'rule_4_afternoon_break' không được kích hoạt
2025-06-18 13:52:34,085 - controllers.inference_engine - INFO - Kết thúc suy luận. Số hành động được kích hoạt: 0
2025-06-18 13:52:34,085 - controllers.rule_suggester - INFO - Đã suy luận được 0 recommendations
2025-06-18 13:52:34,085 - __main__ - INFO - Đề xuất: []
2025-06-18 13:52:34,088 - __main__ - INFO - Cập nhật thời gian: 13:52:34
2025-06-18 13:52:34,104 - __main__ - ERROR - Error in update_colors: '_tkinter.tkapp' object has no attribute 'label_title'
Traceback (most recent call last):
  File "H:\my_ai\main.py", line 220, in update_colors
    self.label_title.configure(fg_color='#f0f0f0', text_color='#333333')
    ^^^^^^^^^^^^^^^^
  File "C:\Users\Acer\AppData\Local\Programs\Python\Python313\Lib\tkinter\__init__.py", line 2546, in __getattr__
    return getattr(self.tk, attr)
AttributeError: '_tkinter.tkapp' object has no attribute 'label_title'
2025-06-18 13:52:44,074 - __main__ - INFO - Đang đóng ứng dụng...
2025-06-18 13:52:44,189 - __main__ - INFO - Đóng ứng dụng MyAI...
2025-06-18 13:55:50,531 - __main__ - INFO - Khởi động ứng dụng MyAI...
2025-06-18 13:55:53,315 - __main__ - DEBUG - Đang khởi tạo MainWindow...
2025-06-18 13:55:53,363 - models.database - INFO - Khởi tạo DatabaseManager...
2025-06-18 13:55:53,364 - models.database - DEBUG - Tạo kết nối ban đầu...
2025-06-18 13:55:53,367 - models.database - DEBUG - Thiết lập các tùy chọn SQLite...
2025-06-18 13:55:53,369 - models.database - DEBUG - Tạo các bảng...
2025-06-18 13:55:53,369 - models.database - DEBUG - Bắt đầu tạo các bảng...
2025-06-18 13:55:53,370 - models.database - INFO - Đã cập nhật schema cho bảng weather_data
2025-06-18 13:55:53,370 - models.database - INFO - Đã cập nhật schema cho bảng api_cache
2025-06-18 13:55:53,370 - models.database - INFO - Đã cập nhật schema cho bảng user_interactions_log
2025-06-18 13:55:53,370 - models.database - DEBUG - Tạo các index...
2025-06-18 13:55:53,370 - models.database - INFO - Đã tạo các bảng và index thành công
2025-06-18 13:55:53,370 - models.database - DEBUG - Khởi tạo connection pool...
2025-06-18 13:55:53,370 - models.database - DEBUG - Khởi tạo cache...
2025-06-18 13:55:53,370 - models.database - INFO - DatabaseManager đã được khởi tạo thành công
2025-06-18 13:55:53,390 - __main__ - INFO - Ứng dụng đã sẵn sàng!
2025-06-18 13:55:53,641 - views.components.greeting_frame - DEBUG - Khởi tạo GreetingFrame...
2025-06-18 13:55:53,650 - views.components.greeting_frame - DEBUG - Cập nhật lời chào và thời gian lần đầu...
2025-06-18 13:55:53,650 - views.components.greeting_frame - DEBUG - Cập nhật greeting_label với text: Chào buổi chiều Dương Huy!
2025-06-18 13:55:53,651 - views.components.greeting_frame - DEBUG - Cập nhật greeting_label với text: Chào buổi chiều Dương Huy!
2025-06-18 13:55:53,651 - views.components.greeting_frame - DEBUG - Khởi tạo GreetingFrame hoàn tất.
2025-06-18 13:55:53,732 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): api.openweathermap.org:80
2025-06-18 13:55:54,022 - urllib3.connectionpool - DEBUG - http://api.openweathermap.org:80 "GET /data/2.5/weather?q=Hanoi&appid=1cfcda7a3ee2a0f49e546a462ef6851b&units=metric&lang=vi HTTP/1.1" 200 512
2025-06-18 13:55:54,023 - views.components.weather_frame - DEBUG - Dữ liệu thời tiết từ WeatherService: {'city': 'Hanoi', 'temperature': 35, 'description': 'mây đen u ám', 'humidity': 55, 'wind_speed': 3.88}
2025-06-18 13:55:54,023 - views.components.weather_frame - DEBUG - Dữ liệu thời tiết nhận được: {'city': 'Hanoi', 'temperature': 35, 'description': 'mây đen u ám', 'humidity': 55, 'wind_speed': 3.88}
2025-06-18 13:55:54,083 - PIL.PngImagePlugin - DEBUG - STREAM b'IHDR' 16 13
2025-06-18 13:55:54,083 - PIL.PngImagePlugin - DEBUG - STREAM b'IDAT' 41 1741
2025-06-18 13:55:54,126 - views.components.weather_frame - ERROR - Lỗi khi cập nhật icon thời tiết: image "pyimage1" doesn't exist
2025-06-18 13:55:54,126 - views.components.weather_frame - DEBUG - Cập nhật thông tin hàng đầu thành công.
2025-06-18 13:55:54,126 - views.components.weather_frame - DEBUG - Cập nhật labels chính thành công.
2025-06-18 13:55:54,127 - views.components.weather_frame - DEBUG - Cập nhật metrics thành công.
2025-06-18 13:55:54,127 - views.components.weather_frame - DEBUG - Cập nhật mô tả dự báo hàng ngày thành công.
2025-06-18 13:55:54,890 - models.knowledge_base - INFO - Loaded 4 rules from H:\my_ai\models\knowledge_base.json.
2025-06-18 13:55:54,890 - controllers.inference_engine - INFO - Inference Engine initialized.
2025-06-18 13:55:54,890 - controllers.rule_suggester - INFO - Rule Suggester initialized.
2025-06-18 13:55:54,893 - __main__ - INFO - Bắt đầu suy luận hệ chuyên gia...
2025-06-18 13:55:54,895 - __main__ - INFO - Các sự kiện thu thập được: {'time_category': 'afternoon', 'day_of_week': 'Wednesday', 'current_hour': 13, 'has_schedule': False, 'schedule_count': 0, 'recent_apps': ['App_2025-06-17 07:12:55', 'App_2025-06-17 07:11:57', 'App_2025-06-17 07:10:16']}
2025-06-18 13:55:54,895 - controllers.rule_suggester - INFO - Bắt đầu suy luận quy tắc từ facts...
2025-06-18 13:55:54,895 - controllers.inference_engine - INFO - Inference Engine initialized.
2025-06-18 13:55:54,895 - controllers.inference_engine - INFO - Bắt đầu suy luận với facts: {'time_category': 'afternoon', 'day_of_week': 'Wednesday', 'current_hour': 13, 'has_schedule': False, 'schedule_count': 0, 'recent_apps': ['App_2025-06-17 07:12:55', 'App_2025-06-17 07:11:57', 'App_2025-06-17 07:10:16']}
2025-06-18 13:55:54,895 - controllers.inference_engine - INFO - Số lượng quy tắc: 4
2025-06-18 13:55:54,895 - controllers.inference_engine - INFO - 
Đánh giá quy tắc: rule_1_rainy_gym
2025-06-18 13:55:54,895 - controllers.inference_engine - INFO - Mô tả: Nếu trời mưa và có lịch tập Gym, đề xuất mang ô/áo mưa.
2025-06-18 13:55:54,895 - controllers.inference_engine - WARNING - Fact 'weather_condition' không tồn tại cho quy tắc 'rule_1_rainy_gym'
2025-06-18 13:55:54,895 - controllers.inference_engine - INFO - Quy tắc 'rule_1_rainy_gym' không được kích hoạt
2025-06-18 13:55:54,895 - controllers.inference_engine - INFO - 
Đánh giá quy tắc: rule_2_morning_vscode
2025-06-18 13:55:54,895 - controllers.inference_engine - INFO - Mô tả: Nếu là buổi sáng và VSCode chưa mở, đề xuất mở VSCode.
2025-06-18 13:55:54,895 - controllers.inference_engine - INFO - Đánh giá điều kiện: time_category == morning
2025-06-18 13:55:54,895 - controllers.inference_engine - INFO - Giá trị thực tế: afternoon
2025-06-18 13:55:54,895 - controllers.inference_engine - DEBUG - Đánh giá điều kiện: fact_value=afternoon, operator===, condition_value=morning
2025-06-18 13:55:54,895 - controllers.inference_engine - DEBUG - Kết quả đánh giá: False
2025-06-18 13:55:54,895 - controllers.inference_engine - INFO - Điều kiện không thỏa mãn cho quy tắc 'rule_2_morning_vscode'
2025-06-18 13:55:54,895 - controllers.inference_engine - INFO - Quy tắc 'rule_2_morning_vscode' không được kích hoạt
2025-06-18 13:55:54,895 - controllers.inference_engine - INFO - 
Đánh giá quy tắc: rule_3_weekend_relax
2025-06-18 13:55:54,895 - controllers.inference_engine - INFO - Mô tả: Nếu là cuối tuần và không có lịch trình cụ thể, đề xuất nghỉ ngơi/giải trí.
2025-06-18 13:55:54,895 - controllers.inference_engine - INFO - Đánh giá điều kiện: day_of_week in ['Saturday', 'Sunday']
2025-06-18 13:55:54,895 - controllers.inference_engine - INFO - Giá trị thực tế: Wednesday
2025-06-18 13:55:54,896 - controllers.inference_engine - DEBUG - Đánh giá điều kiện: fact_value=Wednesday, operator=in, condition_value=['Saturday', 'Sunday']
2025-06-18 13:55:54,896 - controllers.inference_engine - DEBUG - Kết quả đánh giá: False
2025-06-18 13:55:54,896 - controllers.inference_engine - INFO - Điều kiện không thỏa mãn cho quy tắc 'rule_3_weekend_relax'
2025-06-18 13:55:54,896 - controllers.inference_engine - INFO - Quy tắc 'rule_3_weekend_relax' không được kích hoạt
2025-06-18 13:55:54,896 - controllers.inference_engine - INFO - 
Đánh giá quy tắc: rule_4_afternoon_break
2025-06-18 13:55:54,896 - controllers.inference_engine - INFO - Mô tả: Nếu là buổi chiều và lịch trình trống, đề xuất nghỉ ngơi.
2025-06-18 13:55:54,896 - controllers.inference_engine - INFO - Đánh giá điều kiện: time_category == afternoon
2025-06-18 13:55:54,896 - controllers.inference_engine - INFO - Giá trị thực tế: afternoon
2025-06-18 13:55:54,896 - controllers.inference_engine - DEBUG - Đánh giá điều kiện: fact_value=afternoon, operator===, condition_value=afternoon
2025-06-18 13:55:54,896 - controllers.inference_engine - DEBUG - Kết quả đánh giá: True
2025-06-18 13:55:54,896 - controllers.inference_engine - WARNING - Fact 'schedule_empty_or_flexible' không tồn tại cho quy tắc 'rule_4_afternoon_break'
2025-06-18 13:55:54,896 - controllers.inference_engine - INFO - Quy tắc 'rule_4_afternoon_break' không được kích hoạt
2025-06-18 13:55:54,896 - controllers.inference_engine - INFO - Kết thúc suy luận. Số hành động được kích hoạt: 0
2025-06-18 13:55:54,896 - controllers.rule_suggester - INFO - Đã suy luận được 0 recommendations
2025-06-18 13:55:54,896 - __main__ - INFO - Đề xuất: []
2025-06-18 13:55:54,896 - __main__ - INFO - Cập nhật thời gian: 13:55:54
2025-06-18 13:55:54,909 - __main__ - INFO - Màu sắc giao diện được cập nhật.
2025-06-18 13:56:00,890 - views.components.greeting_frame - DEBUG - Cập nhật time_label với text: 13:56:00
2025-06-18 13:56:00,919 - views.components.greeting_frame - DEBUG - Cập nhật time_label với text: 13:56:00
2025-06-18 13:56:00,920 - views.components.greeting_frame - DEBUG - Cập nhật time_label với text: 13:56:00
2025-06-18 13:56:00,920 - views.components.greeting_frame - DEBUG - Cập nhật time_label với text: 13:56:00
2025-06-18 13:56:00,921 - views.components.greeting_frame - DEBUG - Cập nhật time_label với text: 13:56:00
2025-06-18 13:56:00,921 - views.components.greeting_frame - DEBUG - Cập nhật time_label với text: 13:56:00
2025-06-18 13:56:00,921 - views.components.greeting_frame - DEBUG - Cập nhật time_label với text: 13:56:00
2025-06-18 13:56:00,921 - views.components.greeting_frame - DEBUG - Cập nhật time_label với text: 13:56:00
2025-06-18 13:56:00,922 - __main__ - INFO - Cập nhật thời gian: 13:56:00
2025-06-18 13:56:04,360 - __main__ - INFO - Đang đóng ứng dụng...
2025-06-18 13:56:04,362 - models.database - INFO - Đã đóng kết nối database
2025-06-18 13:56:04,362 - __main__ - WARNING - Lỗi khi đóng weather service: 'WeatherService' object has no attribute 'close'
2025-06-18 13:56:04,455 - __main__ - INFO - Đóng ứng dụng MyAI...
2025-06-18 13:59:02,629 - __main__ - INFO - Khởi động ứng dụng MyAI...
2025-06-18 13:59:02,807 - __main__ - DEBUG - Đang khởi tạo MainWindow...
2025-06-18 13:59:02,910 - models.database - INFO - Khởi tạo DatabaseManager...
2025-06-18 13:59:02,910 - models.database - DEBUG - Tạo kết nối ban đầu...
2025-06-18 13:59:02,911 - models.database - DEBUG - Thiết lập các tùy chọn SQLite...
2025-06-18 13:59:02,912 - models.database - DEBUG - Tạo các bảng...
2025-06-18 13:59:02,913 - models.database - DEBUG - Bắt đầu tạo các bảng...
2025-06-18 13:59:02,913 - models.database - INFO - Đã cập nhật schema cho bảng weather_data
2025-06-18 13:59:02,913 - models.database - INFO - Đã cập nhật schema cho bảng api_cache
2025-06-18 13:59:02,913 - models.database - INFO - Đã cập nhật schema cho bảng user_interactions_log
2025-06-18 13:59:02,913 - models.database - DEBUG - Tạo các index...
2025-06-18 13:59:02,914 - models.database - INFO - Đã tạo các bảng và index thành công
2025-06-18 13:59:02,914 - models.database - DEBUG - Khởi tạo connection pool...
2025-06-18 13:59:02,914 - models.database - DEBUG - Khởi tạo cache...
2025-06-18 13:59:02,914 - models.database - INFO - DatabaseManager đã được khởi tạo thành công
2025-06-18 13:59:02,937 - views.components.greeting_frame - DEBUG - Khởi tạo GreetingFrame...
2025-06-18 13:59:02,944 - views.components.greeting_frame - DEBUG - Cập nhật lời chào và thời gian lần đầu...
2025-06-18 13:59:02,945 - views.components.greeting_frame - DEBUG - Cập nhật greeting_label với text: Chào buổi chiều Dương Huy!
2025-06-18 13:59:02,945 - views.components.greeting_frame - DEBUG - Cập nhật greeting_label với text: Chào buổi chiều Dương Huy!
2025-06-18 13:59:02,945 - views.components.greeting_frame - DEBUG - Khởi tạo GreetingFrame hoàn tất.
2025-06-18 13:59:02,978 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): api.openweathermap.org:80
2025-06-18 13:59:03,244 - urllib3.connectionpool - DEBUG - http://api.openweathermap.org:80 "GET /data/2.5/weather?q=Hanoi&appid=1cfcda7a3ee2a0f49e546a462ef6851b&units=metric&lang=vi HTTP/1.1" 200 512
2025-06-18 13:59:03,246 - views.components.weather_frame - DEBUG - Dữ liệu thời tiết từ WeatherService: {'city': 'Hanoi', 'temperature': 35, 'description': 'mây đen u ám', 'humidity': 55, 'wind_speed': 3.88}
2025-06-18 13:59:03,246 - views.components.weather_frame - DEBUG - Dữ liệu thời tiết nhận được: {'city': 'Hanoi', 'temperature': 35, 'description': 'mây đen u ám', 'humidity': 55, 'wind_speed': 3.88}
2025-06-18 13:59:03,267 - PIL.PngImagePlugin - DEBUG - STREAM b'IHDR' 16 13
2025-06-18 13:59:03,267 - PIL.PngImagePlugin - DEBUG - STREAM b'IDAT' 41 1741
2025-06-18 13:59:03,272 - views.components.weather_frame - ERROR - Lỗi khi cập nhật icon thời tiết: image "pyimage1" doesn't exist
2025-06-18 13:59:03,272 - views.components.weather_frame - DEBUG - Cập nhật thông tin hàng đầu thành công.
2025-06-18 13:59:03,272 - views.components.weather_frame - DEBUG - Cập nhật labels chính thành công.
2025-06-18 13:59:03,273 - views.components.weather_frame - DEBUG - Cập nhật metrics thành công.
2025-06-18 13:59:03,273 - views.components.weather_frame - DEBUG - Cập nhật mô tả dự báo hàng ngày thành công.
2025-06-18 13:59:03,481 - __main__ - INFO - Màu sắc giao diện được cập nhật.
2025-06-18 13:59:03,481 - __main__ - INFO - Cập nhật thời gian: 13:59:03
2025-06-18 13:59:03,481 - __main__ - INFO - Bắt đầu suy luận hệ chuyên gia...
2025-06-18 13:59:03,482 - __main__ - INFO - Các sự kiện thu thập được: {'time_category': 'afternoon', 'day_of_week': 'Wednesday', 'current_hour': 13, 'has_schedule': False, 'schedule_count': 0, 'recent_apps': ['App_2025-06-17 07:12:55', 'App_2025-06-17 07:11:57', 'App_2025-06-17 07:10:16']}
2025-06-18 13:59:03,482 - __main__ - ERROR - Lỗi khi chạy suy luận hệ chuyên gia: 'NoneType' object has no attribute 'infer_rules'
Traceback (most recent call last):
  File "H:\my_ai\main.py", line 214, in _run_expert_system_inference
    recommendations = self.rule_suggester.infer_rules(facts)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'NoneType' object has no attribute 'infer_rules'
2025-06-18 13:59:03,607 - views.components.greeting_frame - DEBUG - Khởi tạo GreetingFrame...
2025-06-18 13:59:03,611 - views.components.greeting_frame - DEBUG - Cập nhật lời chào và thời gian lần đầu...
2025-06-18 13:59:03,611 - views.components.greeting_frame - DEBUG - Cập nhật greeting_label với text: Chào buổi chiều Dương Huy!
2025-06-18 13:59:03,612 - views.components.greeting_frame - DEBUG - Cập nhật greeting_label với text: Chào buổi chiều Dương Huy!
2025-06-18 13:59:03,612 - views.components.greeting_frame - DEBUG - Khởi tạo GreetingFrame hoàn tất.
2025-06-18 13:59:03,633 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): api.openweathermap.org:80
2025-06-18 13:59:03,806 - urllib3.connectionpool - DEBUG - http://api.openweathermap.org:80 "GET /data/2.5/weather?q=Hanoi&appid=1cfcda7a3ee2a0f49e546a462ef6851b&units=metric&lang=vi HTTP/1.1" 200 512
2025-06-18 13:59:03,807 - views.components.weather_frame - DEBUG - Dữ liệu thời tiết từ WeatherService: {'city': 'Hanoi', 'temperature': 35, 'description': 'mây đen u ám', 'humidity': 55, 'wind_speed': 3.88}
2025-06-18 13:59:03,807 - views.components.weather_frame - DEBUG - Dữ liệu thời tiết nhận được: {'city': 'Hanoi', 'temperature': 35, 'description': 'mây đen u ám', 'humidity': 55, 'wind_speed': 3.88}
2025-06-18 13:59:03,808 - PIL.PngImagePlugin - DEBUG - STREAM b'IHDR' 16 13
2025-06-18 13:59:03,808 - PIL.PngImagePlugin - DEBUG - STREAM b'IDAT' 41 1741
2025-06-18 13:59:03,809 - views.components.weather_frame - ERROR - Lỗi khi cập nhật icon thời tiết: image "pyimage2" doesn't exist
2025-06-18 13:59:03,809 - views.components.weather_frame - DEBUG - Cập nhật thông tin hàng đầu thành công.
2025-06-18 13:59:03,810 - views.components.weather_frame - DEBUG - Cập nhật labels chính thành công.
2025-06-18 13:59:03,810 - views.components.weather_frame - DEBUG - Cập nhật metrics thành công.
2025-06-18 13:59:03,810 - views.components.weather_frame - DEBUG - Cập nhật mô tả dự báo hàng ngày thành công.
2025-06-18 13:59:03,984 - models.knowledge_base - INFO - Loaded 4 rules from H:\my_ai\models\knowledge_base.json.
2025-06-18 13:59:03,984 - controllers.inference_engine - INFO - Inference Engine initialized.
2025-06-18 13:59:03,984 - controllers.rule_suggester - INFO - Rule Suggester initialized.
2025-06-18 13:59:03,986 - __main__ - INFO - Bắt đầu suy luận hệ chuyên gia...
2025-06-18 13:59:03,987 - __main__ - INFO - Các sự kiện thu thập được: {'time_category': 'afternoon', 'day_of_week': 'Wednesday', 'current_hour': 13, 'has_schedule': False, 'schedule_count': 0, 'recent_apps': ['App_2025-06-17 07:12:55', 'App_2025-06-17 07:11:57', 'App_2025-06-17 07:10:16']}
2025-06-18 13:59:03,987 - controllers.rule_suggester - INFO - Bắt đầu suy luận quy tắc từ facts...
2025-06-18 13:59:03,987 - controllers.inference_engine - INFO - Inference Engine initialized.
2025-06-18 13:59:03,987 - controllers.inference_engine - INFO - Bắt đầu suy luận với facts: {'time_category': 'afternoon', 'day_of_week': 'Wednesday', 'current_hour': 13, 'has_schedule': False, 'schedule_count': 0, 'recent_apps': ['App_2025-06-17 07:12:55', 'App_2025-06-17 07:11:57', 'App_2025-06-17 07:10:16']}
2025-06-18 13:59:03,987 - controllers.inference_engine - INFO - Số lượng quy tắc: 4
2025-06-18 13:59:03,987 - controllers.inference_engine - INFO - 
Đánh giá quy tắc: rule_1_rainy_gym
2025-06-18 13:59:03,987 - controllers.inference_engine - INFO - Mô tả: Nếu trời mưa và có lịch tập Gym, đề xuất mang ô/áo mưa.
2025-06-18 13:59:03,987 - controllers.inference_engine - WARNING - Fact 'weather_condition' không tồn tại cho quy tắc 'rule_1_rainy_gym'
2025-06-18 13:59:03,987 - controllers.inference_engine - INFO - Quy tắc 'rule_1_rainy_gym' không được kích hoạt
2025-06-18 13:59:03,987 - controllers.inference_engine - INFO - 
Đánh giá quy tắc: rule_2_morning_vscode
2025-06-18 13:59:03,987 - controllers.inference_engine - INFO - Mô tả: Nếu là buổi sáng và VSCode chưa mở, đề xuất mở VSCode.
2025-06-18 13:59:03,987 - controllers.inference_engine - INFO - Đánh giá điều kiện: time_category == morning
2025-06-18 13:59:03,987 - controllers.inference_engine - INFO - Giá trị thực tế: afternoon
2025-06-18 13:59:03,987 - controllers.inference_engine - DEBUG - Đánh giá điều kiện: fact_value=afternoon, operator===, condition_value=morning
2025-06-18 13:59:03,987 - controllers.inference_engine - DEBUG - Kết quả đánh giá: False
2025-06-18 13:59:03,987 - controllers.inference_engine - INFO - Điều kiện không thỏa mãn cho quy tắc 'rule_2_morning_vscode'
2025-06-18 13:59:03,987 - controllers.inference_engine - INFO - Quy tắc 'rule_2_morning_vscode' không được kích hoạt
2025-06-18 13:59:03,987 - controllers.inference_engine - INFO - 
Đánh giá quy tắc: rule_3_weekend_relax
2025-06-18 13:59:03,987 - controllers.inference_engine - INFO - Mô tả: Nếu là cuối tuần và không có lịch trình cụ thể, đề xuất nghỉ ngơi/giải trí.
2025-06-18 13:59:03,987 - controllers.inference_engine - INFO - Đánh giá điều kiện: day_of_week in ['Saturday', 'Sunday']
2025-06-18 13:59:03,988 - controllers.inference_engine - INFO - Giá trị thực tế: Wednesday
2025-06-18 13:59:03,988 - controllers.inference_engine - DEBUG - Đánh giá điều kiện: fact_value=Wednesday, operator=in, condition_value=['Saturday', 'Sunday']
2025-06-18 13:59:03,988 - controllers.inference_engine - DEBUG - Kết quả đánh giá: False
2025-06-18 13:59:03,988 - controllers.inference_engine - INFO - Điều kiện không thỏa mãn cho quy tắc 'rule_3_weekend_relax'
2025-06-18 13:59:03,988 - controllers.inference_engine - INFO - Quy tắc 'rule_3_weekend_relax' không được kích hoạt
2025-06-18 13:59:03,988 - controllers.inference_engine - INFO - 
Đánh giá quy tắc: rule_4_afternoon_break
2025-06-18 13:59:03,988 - controllers.inference_engine - INFO - Mô tả: Nếu là buổi chiều và lịch trình trống, đề xuất nghỉ ngơi.
2025-06-18 13:59:03,988 - controllers.inference_engine - INFO - Đánh giá điều kiện: time_category == afternoon
2025-06-18 13:59:03,988 - controllers.inference_engine - INFO - Giá trị thực tế: afternoon
2025-06-18 13:59:03,988 - controllers.inference_engine - DEBUG - Đánh giá điều kiện: fact_value=afternoon, operator===, condition_value=afternoon
2025-06-18 13:59:03,988 - controllers.inference_engine - DEBUG - Kết quả đánh giá: True
2025-06-18 13:59:03,988 - controllers.inference_engine - WARNING - Fact 'schedule_empty_or_flexible' không tồn tại cho quy tắc 'rule_4_afternoon_break'
2025-06-18 13:59:03,988 - controllers.inference_engine - INFO - Quy tắc 'rule_4_afternoon_break' không được kích hoạt
2025-06-18 13:59:03,988 - controllers.inference_engine - INFO - Kết thúc suy luận. Số hành động được kích hoạt: 0
2025-06-18 13:59:03,988 - controllers.rule_suggester - INFO - Đã suy luận được 0 recommendations
2025-06-18 13:59:03,988 - __main__ - INFO - Đề xuất: []
2025-06-18 13:59:03,988 - __main__ - INFO - Màu sắc giao diện được cập nhật.
2025-06-18 13:59:05,947 - __main__ - INFO - Ứng dụng đã sẵn sàng!
2025-06-18 13:59:23,381 - __main__ - INFO - Đang đóng ứng dụng...
2025-06-18 13:59:23,383 - models.database - INFO - Đã đóng kết nối database
2025-06-18 13:59:23,383 - __main__ - WARNING - Lỗi khi đóng weather service: 'WeatherService' object has no attribute 'close'
2025-06-18 13:59:23,547 - __main__ - INFO - Đóng ứng dụng MyAI...
2025-06-18 21:54:07,089 - __main__ - INFO - Khởi động ứng dụng MyAI...
2025-06-18 21:54:07,980 - __main__ - DEBUG - Đang khởi tạo MainWindow...
2025-06-18 21:54:08,065 - models.database - INFO - Khởi tạo DatabaseManager...
2025-06-18 21:54:08,066 - models.database - DEBUG - Tạo kết nối ban đầu...
2025-06-18 21:54:08,071 - models.database - DEBUG - Thiết lập các tùy chọn SQLite...
2025-06-18 21:54:08,077 - models.database - DEBUG - Tạo các bảng...
2025-06-18 21:54:08,077 - models.database - DEBUG - Bắt đầu tạo các bảng...
2025-06-18 21:54:08,078 - models.database - INFO - Đã cập nhật schema cho bảng weather_data
2025-06-18 21:54:08,078 - models.database - INFO - Đã cập nhật schema cho bảng api_cache
2025-06-18 21:54:08,078 - models.database - INFO - Đã cập nhật schema cho bảng user_interactions_log
2025-06-18 21:54:08,078 - models.database - DEBUG - Tạo các index...
2025-06-18 21:54:08,078 - models.database - INFO - Đã tạo các bảng và index thành công
2025-06-18 21:54:08,078 - models.database - DEBUG - Khởi tạo connection pool...
2025-06-18 21:54:08,078 - models.database - DEBUG - Khởi tạo cache...
2025-06-18 21:54:08,078 - models.database - INFO - DatabaseManager đã được khởi tạo thành công
2025-06-18 21:54:08,113 - views.components.greeting_frame - DEBUG - Khởi tạo GreetingFrame...
2025-06-18 21:54:08,127 - views.components.greeting_frame - DEBUG - Cập nhật lời chào và thời gian lần đầu...
2025-06-18 21:54:08,128 - views.components.greeting_frame - DEBUG - Cập nhật greeting_label với text: Chào buổi tối Dương Huy!
2025-06-18 21:54:08,129 - views.components.greeting_frame - DEBUG - Cập nhật greeting_label với text: Chào buổi tối Dương Huy!
2025-06-18 21:54:08,129 - views.components.greeting_frame - DEBUG - Khởi tạo GreetingFrame hoàn tất.
2025-06-18 21:54:08,190 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): api.openweathermap.org:80
2025-06-18 21:54:08,305 - urllib3.connectionpool - DEBUG - http://api.openweathermap.org:80 "GET /data/2.5/weather?q=Hanoi&appid=1cfcda7a3ee2a0f49e546a462ef6851b&units=metric&lang=vi HTTP/1.1" 200 522
2025-06-18 21:54:08,308 - views.components.weather_frame - DEBUG - Dữ liệu thời tiết từ WeatherService: {'city': 'Hanoi', 'temperature': 31, 'description': 'mưa nhẹ', 'humidity': 83, 'wind_speed': 6.36}
2025-06-18 21:54:08,308 - views.components.weather_frame - DEBUG - Dữ liệu thời tiết nhận được: {'city': 'Hanoi', 'temperature': 31, 'description': 'mưa nhẹ', 'humidity': 83, 'wind_speed': 6.36}
2025-06-18 21:54:08,402 - PIL.PngImagePlugin - DEBUG - STREAM b'IHDR' 16 13
2025-06-18 21:54:08,403 - PIL.PngImagePlugin - DEBUG - STREAM b'IDAT' 41 1741
2025-06-18 21:54:08,478 - views.components.weather_frame - ERROR - Lỗi khi cập nhật icon thời tiết: image "pyimage1" doesn't exist
2025-06-18 21:54:08,478 - views.components.weather_frame - DEBUG - Cập nhật thông tin hàng đầu thành công.
2025-06-18 21:54:08,480 - views.components.weather_frame - DEBUG - Cập nhật labels chính thành công.
2025-06-18 21:54:08,480 - views.components.weather_frame - DEBUG - Cập nhật metrics thành công.
2025-06-18 21:54:08,481 - views.components.weather_frame - DEBUG - Cập nhật mô tả dự báo hàng ngày thành công.
2025-06-18 21:54:08,995 - __main__ - INFO - Màu sắc giao diện được cập nhật.
2025-06-18 21:54:08,995 - __main__ - INFO - Cập nhật thời gian: 21:54:08
2025-06-18 21:54:08,995 - __main__ - INFO - Bắt đầu suy luận hệ chuyên gia...
2025-06-18 21:54:08,997 - __main__ - INFO - Các sự kiện thu thập được: {'time_category': 'night', 'day_of_week': 'Wednesday', 'current_hour': 21, 'has_schedule': False, 'schedule_count': 0, 'recent_apps': ['App_2025-06-17 07:12:55', 'App_2025-06-17 07:11:57', 'App_2025-06-17 07:10:16']}
2025-06-18 21:54:08,997 - __main__ - ERROR - Lỗi khi chạy suy luận hệ chuyên gia: 'NoneType' object has no attribute 'infer_rules'
Traceback (most recent call last):
  File "H:\my_ai\main.py", line 214, in _run_expert_system_inference
    recommendations = self.rule_suggester.infer_rules(facts)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'NoneType' object has no attribute 'infer_rules'
2025-06-18 21:54:09,246 - views.components.greeting_frame - DEBUG - Khởi tạo GreetingFrame...
2025-06-18 21:54:09,252 - views.components.greeting_frame - DEBUG - Cập nhật lời chào và thời gian lần đầu...
2025-06-18 21:54:09,253 - views.components.greeting_frame - DEBUG - Cập nhật greeting_label với text: Chào buổi tối Dương Huy!
2025-06-18 21:54:09,253 - views.components.greeting_frame - DEBUG - Cập nhật greeting_label với text: Chào buổi tối Dương Huy!
2025-06-18 21:54:09,253 - views.components.greeting_frame - DEBUG - Khởi tạo GreetingFrame hoàn tất.
2025-06-18 21:54:09,298 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): api.openweathermap.org:80
2025-06-18 21:54:09,399 - urllib3.connectionpool - DEBUG - http://api.openweathermap.org:80 "GET /data/2.5/weather?q=Hanoi&appid=1cfcda7a3ee2a0f49e546a462ef6851b&units=metric&lang=vi HTTP/1.1" 200 522
2025-06-18 21:54:09,400 - views.components.weather_frame - DEBUG - Dữ liệu thời tiết từ WeatherService: {'city': 'Hanoi', 'temperature': 31, 'description': 'mưa nhẹ', 'humidity': 83, 'wind_speed': 6.36}
2025-06-18 21:54:09,400 - views.components.weather_frame - DEBUG - Dữ liệu thời tiết nhận được: {'city': 'Hanoi', 'temperature': 31, 'description': 'mưa nhẹ', 'humidity': 83, 'wind_speed': 6.36}
2025-06-18 21:54:09,402 - PIL.PngImagePlugin - DEBUG - STREAM b'IHDR' 16 13
2025-06-18 21:54:09,402 - PIL.PngImagePlugin - DEBUG - STREAM b'IDAT' 41 1741
2025-06-18 21:54:09,404 - views.components.weather_frame - ERROR - Lỗi khi cập nhật icon thời tiết: image "pyimage2" doesn't exist
2025-06-18 21:54:09,404 - views.components.weather_frame - DEBUG - Cập nhật thông tin hàng đầu thành công.
2025-06-18 21:54:09,405 - views.components.weather_frame - DEBUG - Cập nhật labels chính thành công.
2025-06-18 21:54:09,405 - views.components.weather_frame - DEBUG - Cập nhật metrics thành công.
2025-06-18 21:54:09,405 - views.components.weather_frame - DEBUG - Cập nhật mô tả dự báo hàng ngày thành công.
2025-06-18 21:54:09,791 - models.knowledge_base - INFO - Loaded 4 rules from H:\my_ai\models\knowledge_base.json.
2025-06-18 21:54:09,791 - controllers.inference_engine - INFO - Inference Engine initialized.
2025-06-18 21:54:09,791 - controllers.rule_suggester - INFO - Rule Suggester initialized.
2025-06-18 21:54:09,798 - __main__ - INFO - Bắt đầu suy luận hệ chuyên gia...
2025-06-18 21:54:09,799 - __main__ - INFO - Các sự kiện thu thập được: {'time_category': 'night', 'day_of_week': 'Wednesday', 'current_hour': 21, 'has_schedule': False, 'schedule_count': 0, 'recent_apps': ['App_2025-06-17 07:12:55', 'App_2025-06-17 07:11:57', 'App_2025-06-17 07:10:16']}
2025-06-18 21:54:09,799 - controllers.rule_suggester - INFO - Bắt đầu suy luận quy tắc từ facts...
2025-06-18 21:54:09,799 - controllers.inference_engine - INFO - Inference Engine initialized.
2025-06-18 21:54:09,799 - controllers.inference_engine - INFO - Bắt đầu suy luận với facts: {'time_category': 'night', 'day_of_week': 'Wednesday', 'current_hour': 21, 'has_schedule': False, 'schedule_count': 0, 'recent_apps': ['App_2025-06-17 07:12:55', 'App_2025-06-17 07:11:57', 'App_2025-06-17 07:10:16']}
2025-06-18 21:54:09,800 - controllers.inference_engine - INFO - Số lượng quy tắc: 4
2025-06-18 21:54:09,800 - controllers.inference_engine - INFO - 
Đánh giá quy tắc: rule_1_rainy_gym
2025-06-18 21:54:09,800 - controllers.inference_engine - INFO - Mô tả: Nếu trời mưa và có lịch tập Gym, đề xuất mang ô/áo mưa.
2025-06-18 21:54:09,800 - controllers.inference_engine - WARNING - Fact 'weather_condition' không tồn tại cho quy tắc 'rule_1_rainy_gym'
2025-06-18 21:54:09,800 - controllers.inference_engine - INFO - Quy tắc 'rule_1_rainy_gym' không được kích hoạt
2025-06-18 21:54:09,800 - controllers.inference_engine - INFO - 
Đánh giá quy tắc: rule_2_morning_vscode
2025-06-18 21:54:09,800 - controllers.inference_engine - INFO - Mô tả: Nếu là buổi sáng và VSCode chưa mở, đề xuất mở VSCode.
2025-06-18 21:54:09,800 - controllers.inference_engine - INFO - Đánh giá điều kiện: time_category == morning
2025-06-18 21:54:09,800 - controllers.inference_engine - INFO - Giá trị thực tế: night
2025-06-18 21:54:09,800 - controllers.inference_engine - DEBUG - Đánh giá điều kiện: fact_value=night, operator===, condition_value=morning
2025-06-18 21:54:09,800 - controllers.inference_engine - DEBUG - Kết quả đánh giá: False
2025-06-18 21:54:09,800 - controllers.inference_engine - INFO - Điều kiện không thỏa mãn cho quy tắc 'rule_2_morning_vscode'
2025-06-18 21:54:09,801 - controllers.inference_engine - INFO - Quy tắc 'rule_2_morning_vscode' không được kích hoạt
2025-06-18 21:54:09,801 - controllers.inference_engine - INFO - 
Đánh giá quy tắc: rule_3_weekend_relax
2025-06-18 21:54:09,801 - controllers.inference_engine - INFO - Mô tả: Nếu là cuối tuần và không có lịch trình cụ thể, đề xuất nghỉ ngơi/giải trí.
2025-06-18 21:54:09,801 - controllers.inference_engine - INFO - Đánh giá điều kiện: day_of_week in ['Saturday', 'Sunday']
2025-06-18 21:54:09,801 - controllers.inference_engine - INFO - Giá trị thực tế: Wednesday
2025-06-18 21:54:09,801 - controllers.inference_engine - DEBUG - Đánh giá điều kiện: fact_value=Wednesday, operator=in, condition_value=['Saturday', 'Sunday']
2025-06-18 21:54:09,801 - controllers.inference_engine - DEBUG - Kết quả đánh giá: False
2025-06-18 21:54:09,801 - controllers.inference_engine - INFO - Điều kiện không thỏa mãn cho quy tắc 'rule_3_weekend_relax'
2025-06-18 21:54:09,801 - controllers.inference_engine - INFO - Quy tắc 'rule_3_weekend_relax' không được kích hoạt
2025-06-18 21:54:09,801 - controllers.inference_engine - INFO - 
Đánh giá quy tắc: rule_4_afternoon_break
2025-06-18 21:54:09,801 - controllers.inference_engine - INFO - Mô tả: Nếu là buổi chiều và lịch trình trống, đề xuất nghỉ ngơi.
2025-06-18 21:54:09,801 - controllers.inference_engine - INFO - Đánh giá điều kiện: time_category == afternoon
2025-06-18 21:54:09,801 - controllers.inference_engine - INFO - Giá trị thực tế: night
2025-06-18 21:54:09,801 - controllers.inference_engine - DEBUG - Đánh giá điều kiện: fact_value=night, operator===, condition_value=afternoon
2025-06-18 21:54:09,802 - controllers.inference_engine - DEBUG - Kết quả đánh giá: False
2025-06-18 21:54:09,802 - controllers.inference_engine - INFO - Điều kiện không thỏa mãn cho quy tắc 'rule_4_afternoon_break'
2025-06-18 21:54:09,802 - controllers.inference_engine - INFO - Quy tắc 'rule_4_afternoon_break' không được kích hoạt
2025-06-18 21:54:09,802 - controllers.inference_engine - INFO - Kết thúc suy luận. Số hành động được kích hoạt: 0
2025-06-18 21:54:09,802 - controllers.rule_suggester - INFO - Đã suy luận được 0 recommendations
2025-06-18 21:54:09,802 - __main__ - INFO - Đề xuất: []
2025-06-18 21:54:09,803 - __main__ - INFO - Màu sắc giao diện được cập nhật.
2025-06-18 21:54:12,770 - __main__ - INFO - Ứng dụng đã sẵn sàng!
2025-06-18 21:54:28,657 - __main__ - INFO - Đang đóng ứng dụng...
2025-06-18 21:54:28,658 - models.database - INFO - Đã đóng kết nối database
2025-06-18 21:54:28,658 - __main__ - WARNING - Lỗi khi đóng weather service: 'WeatherService' object has no attribute 'close'
2025-06-18 21:54:28,922 - __main__ - INFO - Đóng ứng dụng MyAI...
2025-06-18 21:57:56,161 - __main__ - INFO - Khởi động ứng dụng MyAI...
2025-06-18 21:57:56,362 - __main__ - DEBUG - Đang khởi tạo MainWindow...
2025-06-18 21:57:56,429 - models.database - INFO - Khởi tạo DatabaseManager...
2025-06-18 21:57:56,429 - models.database - DEBUG - Tạo kết nối ban đầu...
2025-06-18 21:57:56,429 - models.database - DEBUG - Thiết lập các tùy chọn SQLite...
2025-06-18 21:57:56,430 - models.database - DEBUG - Tạo các bảng...
2025-06-18 21:57:56,430 - models.database - DEBUG - Bắt đầu tạo các bảng...
2025-06-18 21:57:56,430 - models.database - INFO - Đã cập nhật schema cho bảng weather_data
2025-06-18 21:57:56,430 - models.database - INFO - Đã cập nhật schema cho bảng api_cache
2025-06-18 21:57:56,431 - models.database - INFO - Đã cập nhật schema cho bảng user_interactions_log
2025-06-18 21:57:56,431 - models.database - DEBUG - Tạo các index...
2025-06-18 21:57:56,431 - models.database - INFO - Đã tạo các bảng và index thành công
2025-06-18 21:57:56,431 - models.database - DEBUG - Khởi tạo connection pool...
2025-06-18 21:57:56,431 - models.database - DEBUG - Khởi tạo cache...
2025-06-18 21:57:56,431 - models.database - INFO - DatabaseManager đã được khởi tạo thành công
2025-06-18 21:57:56,444 - views.components.greeting_frame - DEBUG - Khởi tạo GreetingFrame...
2025-06-18 21:57:56,449 - views.components.greeting_frame - DEBUG - Cập nhật lời chào và thời gian lần đầu...
2025-06-18 21:57:56,449 - views.components.greeting_frame - DEBUG - Cập nhật greeting_label với text: Chào buổi tối Dương Huy!
2025-06-18 21:57:56,449 - views.components.greeting_frame - DEBUG - Cập nhật greeting_label với text: Chào buổi tối Dương Huy!
2025-06-18 21:57:56,449 - views.components.greeting_frame - DEBUG - Khởi tạo GreetingFrame hoàn tất.
2025-06-18 21:57:56,478 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): api.openweathermap.org:80
2025-06-18 21:57:56,572 - urllib3.connectionpool - DEBUG - http://api.openweathermap.org:80 "GET /data/2.5/weather?q=Hanoi&appid=1cfcda7a3ee2a0f49e546a462ef6851b&units=metric&lang=vi HTTP/1.1" 200 522
2025-06-18 21:57:56,573 - views.components.weather_frame - DEBUG - Dữ liệu thời tiết từ WeatherService: {'city': 'Hanoi', 'temperature': 31, 'description': 'mưa nhẹ', 'humidity': 83, 'wind_speed': 6.36}
2025-06-18 21:57:56,573 - views.components.weather_frame - DEBUG - Dữ liệu thời tiết nhận được: {'city': 'Hanoi', 'temperature': 31, 'description': 'mưa nhẹ', 'humidity': 83, 'wind_speed': 6.36}
2025-06-18 21:57:56,588 - PIL.PngImagePlugin - DEBUG - STREAM b'IHDR' 16 13
2025-06-18 21:57:56,588 - PIL.PngImagePlugin - DEBUG - STREAM b'IDAT' 41 1741
2025-06-18 21:57:56,594 - views.components.weather_frame - ERROR - Lỗi khi cập nhật icon thời tiết: image "pyimage1" doesn't exist
2025-06-18 21:57:56,594 - views.components.weather_frame - DEBUG - Cập nhật thông tin hàng đầu thành công.
2025-06-18 21:57:56,594 - views.components.weather_frame - DEBUG - Cập nhật labels chính thành công.
2025-06-18 21:57:56,595 - views.components.weather_frame - DEBUG - Cập nhật metrics thành công.
2025-06-18 21:57:56,595 - views.components.weather_frame - DEBUG - Cập nhật mô tả dự báo hàng ngày thành công.
2025-06-18 21:57:56,871 - __main__ - INFO - Màu sắc giao diện được cập nhật.
2025-06-18 21:57:56,871 - __main__ - INFO - Cập nhật thời gian: 21:57:56
2025-06-18 21:57:56,871 - __main__ - INFO - Ứng dụng đã sẵn sàng!
2025-06-18 21:57:57,084 - views.components.greeting_frame - DEBUG - Khởi tạo GreetingFrame...
2025-06-18 21:57:57,089 - views.components.greeting_frame - DEBUG - Cập nhật lời chào và thời gian lần đầu...
2025-06-18 21:57:57,089 - views.components.greeting_frame - DEBUG - Cập nhật greeting_label với text: Chào buổi tối Dương Huy!
2025-06-18 21:57:57,089 - views.components.greeting_frame - DEBUG - Cập nhật greeting_label với text: Chào buổi tối Dương Huy!
2025-06-18 21:57:57,089 - views.components.greeting_frame - DEBUG - Khởi tạo GreetingFrame hoàn tất.
2025-06-18 21:57:57,113 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): api.openweathermap.org:80
2025-06-18 21:57:57,199 - urllib3.connectionpool - DEBUG - http://api.openweathermap.org:80 "GET /data/2.5/weather?q=Hanoi&appid=1cfcda7a3ee2a0f49e546a462ef6851b&units=metric&lang=vi HTTP/1.1" 200 522
2025-06-18 21:57:57,200 - views.components.weather_frame - DEBUG - Dữ liệu thời tiết từ WeatherService: {'city': 'Hanoi', 'temperature': 31, 'description': 'mưa nhẹ', 'humidity': 83, 'wind_speed': 6.36}
2025-06-18 21:57:57,200 - views.components.weather_frame - DEBUG - Dữ liệu thời tiết nhận được: {'city': 'Hanoi', 'temperature': 31, 'description': 'mưa nhẹ', 'humidity': 83, 'wind_speed': 6.36}
2025-06-18 21:57:57,201 - PIL.PngImagePlugin - DEBUG - STREAM b'IHDR' 16 13
2025-06-18 21:57:57,201 - PIL.PngImagePlugin - DEBUG - STREAM b'IDAT' 41 1741
2025-06-18 21:57:57,203 - views.components.weather_frame - ERROR - Lỗi khi cập nhật icon thời tiết: image "pyimage2" doesn't exist
2025-06-18 21:57:57,203 - views.components.weather_frame - DEBUG - Cập nhật thông tin hàng đầu thành công.
2025-06-18 21:57:57,204 - views.components.weather_frame - DEBUG - Cập nhật labels chính thành công.
2025-06-18 21:57:57,204 - views.components.weather_frame - DEBUG - Cập nhật metrics thành công.
2025-06-18 21:57:57,204 - views.components.weather_frame - DEBUG - Cập nhật mô tả dự báo hàng ngày thành công.
2025-06-18 21:57:57,307 - models.knowledge_base - INFO - Loaded 4 rules from H:\my_ai\models\knowledge_base.json.
2025-06-18 21:57:57,307 - controllers.inference_engine - INFO - Inference Engine initialized.
2025-06-18 21:57:57,307 - __main__ - ERROR - Lỗi trong _initialize_services_deferred: RuleSuggester.__init__() missing 1 required positional argument: 'knowledge_base'
Traceback (most recent call last):
  File "H:\my_ai\main.py", line 400, in _initialize_services_deferred
    self.rule_suggester = RuleSuggester(self.knowledge_base)
                          ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^
TypeError: RuleSuggester.__init__() missing 1 required positional argument: 'knowledge_base'
2025-06-18 21:58:00,119 - views.components.greeting_frame - DEBUG - Cập nhật time_label với text: 21:58:00
2025-06-18 21:58:00,650 - views.components.greeting_frame - DEBUG - Cập nhật time_label với text: 21:58:00
2025-06-18 21:58:00,917 - views.components.greeting_frame - DEBUG - Cập nhật time_label với text: 21:58:00
2025-06-18 21:58:00,918 - views.components.greeting_frame - DEBUG - Cập nhật time_label với text: 21:58:00
2025-06-18 21:58:00,918 - views.components.greeting_frame - DEBUG - Cập nhật time_label với text: 21:58:00
2025-06-18 21:58:00,919 - views.components.greeting_frame - DEBUG - Cập nhật time_label với text: 21:58:00
2025-06-18 21:58:00,919 - views.components.greeting_frame - DEBUG - Cập nhật time_label với text: 21:58:00
2025-06-18 21:58:00,920 - __main__ - INFO - Cập nhật thời gian: 21:58:00
2025-06-18 21:58:07,431 - __main__ - INFO - Đang đóng ứng dụng...
2025-06-18 21:58:07,433 - models.database - INFO - Đã đóng kết nối database
2025-06-18 21:58:07,672 - __main__ - INFO - Đóng ứng dụng MyAI...
2025-06-18 22:00:36,594 - __main__ - INFO - Khởi động ứng dụng MyAI...
2025-06-18 22:00:36,803 - __main__ - DEBUG - Đang khởi tạo MainWindow...
2025-06-18 22:00:36,877 - models.database - INFO - Khởi tạo DatabaseManager...
2025-06-18 22:00:36,877 - models.database - DEBUG - Tạo kết nối ban đầu...
2025-06-18 22:00:36,878 - models.database - DEBUG - Thiết lập các tùy chọn SQLite...
2025-06-18 22:00:36,879 - models.database - DEBUG - Tạo các bảng...
2025-06-18 22:00:36,879 - models.database - DEBUG - Bắt đầu tạo các bảng...
2025-06-18 22:00:36,879 - models.database - INFO - Đã cập nhật schema cho bảng weather_data
2025-06-18 22:00:36,879 - models.database - INFO - Đã cập nhật schema cho bảng api_cache
2025-06-18 22:00:36,879 - models.database - INFO - Đã cập nhật schema cho bảng user_interactions_log
2025-06-18 22:00:36,879 - models.database - DEBUG - Tạo các index...
2025-06-18 22:00:36,879 - models.database - INFO - Đã tạo các bảng và index thành công
2025-06-18 22:00:36,879 - models.database - DEBUG - Khởi tạo connection pool...
2025-06-18 22:00:36,879 - models.database - DEBUG - Khởi tạo cache...
2025-06-18 22:00:36,879 - models.database - INFO - DatabaseManager đã được khởi tạo thành công
2025-06-18 22:00:36,895 - views.components.greeting_frame - DEBUG - Khởi tạo GreetingFrame...
2025-06-18 22:00:36,902 - views.components.greeting_frame - DEBUG - Cập nhật lời chào và thời gian lần đầu...
2025-06-18 22:00:36,902 - views.components.greeting_frame - DEBUG - Cập nhật greeting_label với text: Chào buổi tối Dương Huy!
2025-06-18 22:00:36,902 - views.components.greeting_frame - DEBUG - Cập nhật greeting_label với text: Chào buổi tối Dương Huy!
2025-06-18 22:00:36,903 - views.components.greeting_frame - DEBUG - Khởi tạo GreetingFrame hoàn tất.
2025-06-18 22:00:36,934 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): api.openweathermap.org:80
2025-06-18 22:00:37,068 - urllib3.connectionpool - DEBUG - http://api.openweathermap.org:80 "GET /data/2.5/weather?q=Hanoi&appid=1cfcda7a3ee2a0f49e546a462ef6851b&units=metric&lang=vi HTTP/1.1" 200 523
2025-06-18 22:00:37,071 - views.components.weather_frame - DEBUG - Dữ liệu thời tiết từ WeatherService: {'city': 'Hanoi', 'temperature': 31, 'description': 'mưa nhẹ', 'humidity': 83, 'wind_speed': 6.36}
2025-06-18 22:00:37,071 - views.components.weather_frame - DEBUG - Dữ liệu thời tiết nhận được: {'city': 'Hanoi', 'temperature': 31, 'description': 'mưa nhẹ', 'humidity': 83, 'wind_speed': 6.36}
2025-06-18 22:00:37,087 - PIL.PngImagePlugin - DEBUG - STREAM b'IHDR' 16 13
2025-06-18 22:00:37,087 - PIL.PngImagePlugin - DEBUG - STREAM b'IDAT' 41 1741
2025-06-18 22:00:37,097 - views.components.weather_frame - ERROR - Lỗi khi cập nhật icon thời tiết: image "pyimage1" doesn't exist
2025-06-18 22:00:37,097 - views.components.weather_frame - DEBUG - Cập nhật thông tin hàng đầu thành công.
2025-06-18 22:00:37,098 - views.components.weather_frame - DEBUG - Cập nhật labels chính thành công.
2025-06-18 22:00:37,098 - views.components.weather_frame - DEBUG - Cập nhật metrics thành công.
2025-06-18 22:00:37,099 - views.components.weather_frame - DEBUG - Cập nhật mô tả dự báo hàng ngày thành công.
2025-06-18 22:00:37,411 - __main__ - INFO - Màu sắc giao diện được cập nhật.
2025-06-18 22:00:37,411 - __main__ - INFO - Cập nhật thời gian: 22:00:37
2025-06-18 22:00:37,411 - __main__ - INFO - Ứng dụng đã sẵn sàng!
2025-06-18 22:00:37,634 - __main__ - WARNING - GreetingFrame đã được khởi tạo, bỏ qua
2025-06-18 22:00:37,637 - models.knowledge_base - INFO - Loaded 4 rules from H:\my_ai\models\knowledge_base.json.
2025-06-18 22:00:37,637 - controllers.inference_engine - INFO - Inference Engine initialized.
2025-06-18 22:00:37,637 - controllers.rule_suggester - INFO - Rule Suggester initialized.
2025-06-18 22:00:37,637 - __main__ - INFO - Bắt đầu suy luận hệ chuyên gia...
2025-06-18 22:00:37,639 - __main__ - INFO - Các sự kiện thu thập được: {'time_category': 'night', 'day_of_week': 'Wednesday', 'current_hour': 22, 'has_schedule': False, 'schedule_count': 0, 'recent_apps': ['App_2025-06-17 07:12:55', 'App_2025-06-17 07:11:57', 'App_2025-06-17 07:10:16']}
2025-06-18 22:00:37,639 - controllers.rule_suggester - INFO - Bắt đầu suy luận quy tắc từ facts...
2025-06-18 22:00:37,639 - controllers.inference_engine - INFO - Inference Engine initialized.
2025-06-18 22:00:37,639 - controllers.inference_engine - INFO - Bắt đầu suy luận với facts: {'time_category': 'night', 'day_of_week': 'Wednesday', 'current_hour': 22, 'has_schedule': False, 'schedule_count': 0, 'recent_apps': ['App_2025-06-17 07:12:55', 'App_2025-06-17 07:11:57', 'App_2025-06-17 07:10:16']}
2025-06-18 22:00:37,639 - controllers.inference_engine - INFO - Số lượng quy tắc: 4
2025-06-18 22:00:37,639 - controllers.inference_engine - INFO - 
Đánh giá quy tắc: rule_1_rainy_gym
2025-06-18 22:00:37,639 - controllers.inference_engine - INFO - Mô tả: Nếu trời mưa và có lịch tập Gym, đề xuất mang ô/áo mưa.
2025-06-18 22:00:37,639 - controllers.inference_engine - WARNING - Fact 'weather_condition' không tồn tại cho quy tắc 'rule_1_rainy_gym'
2025-06-18 22:00:37,639 - controllers.inference_engine - INFO - Quy tắc 'rule_1_rainy_gym' không được kích hoạt
2025-06-18 22:00:37,639 - controllers.inference_engine - INFO - 
Đánh giá quy tắc: rule_2_morning_vscode
2025-06-18 22:00:37,639 - controllers.inference_engine - INFO - Mô tả: Nếu là buổi sáng và VSCode chưa mở, đề xuất mở VSCode.
2025-06-18 22:00:37,639 - controllers.inference_engine - INFO - Đánh giá điều kiện: time_category == morning
2025-06-18 22:00:37,639 - controllers.inference_engine - INFO - Giá trị thực tế: night
2025-06-18 22:00:37,639 - controllers.inference_engine - DEBUG - Đánh giá điều kiện: fact_value=night, operator===, condition_value=morning
2025-06-18 22:00:37,639 - controllers.inference_engine - DEBUG - Kết quả đánh giá: False
2025-06-18 22:00:37,639 - controllers.inference_engine - INFO - Điều kiện không thỏa mãn cho quy tắc 'rule_2_morning_vscode'
2025-06-18 22:00:37,639 - controllers.inference_engine - INFO - Quy tắc 'rule_2_morning_vscode' không được kích hoạt
2025-06-18 22:00:37,640 - controllers.inference_engine - INFO - 
Đánh giá quy tắc: rule_3_weekend_relax
2025-06-18 22:00:37,640 - controllers.inference_engine - INFO - Mô tả: Nếu là cuối tuần và không có lịch trình cụ thể, đề xuất nghỉ ngơi/giải trí.
2025-06-18 22:00:37,640 - controllers.inference_engine - INFO - Đánh giá điều kiện: day_of_week in ['Saturday', 'Sunday']
2025-06-18 22:00:37,640 - controllers.inference_engine - INFO - Giá trị thực tế: Wednesday
2025-06-18 22:00:37,640 - controllers.inference_engine - DEBUG - Đánh giá điều kiện: fact_value=Wednesday, operator=in, condition_value=['Saturday', 'Sunday']
2025-06-18 22:00:37,640 - controllers.inference_engine - DEBUG - Kết quả đánh giá: False
2025-06-18 22:00:37,640 - controllers.inference_engine - INFO - Điều kiện không thỏa mãn cho quy tắc 'rule_3_weekend_relax'
2025-06-18 22:00:37,640 - controllers.inference_engine - INFO - Quy tắc 'rule_3_weekend_relax' không được kích hoạt
2025-06-18 22:00:37,640 - controllers.inference_engine - INFO - 
Đánh giá quy tắc: rule_4_afternoon_break
2025-06-18 22:00:37,640 - controllers.inference_engine - INFO - Mô tả: Nếu là buổi chiều và lịch trình trống, đề xuất nghỉ ngơi.
2025-06-18 22:00:37,640 - controllers.inference_engine - INFO - Đánh giá điều kiện: time_category == afternoon
2025-06-18 22:00:37,640 - controllers.inference_engine - INFO - Giá trị thực tế: night
2025-06-18 22:00:37,640 - controllers.inference_engine - DEBUG - Đánh giá điều kiện: fact_value=night, operator===, condition_value=afternoon
2025-06-18 22:00:37,640 - controllers.inference_engine - DEBUG - Kết quả đánh giá: False
2025-06-18 22:00:37,640 - controllers.inference_engine - INFO - Điều kiện không thỏa mãn cho quy tắc 'rule_4_afternoon_break'
2025-06-18 22:00:37,640 - controllers.inference_engine - INFO - Quy tắc 'rule_4_afternoon_break' không được kích hoạt
2025-06-18 22:00:37,640 - controllers.inference_engine - INFO - Kết thúc suy luận. Số hành động được kích hoạt: 0
2025-06-18 22:00:37,640 - controllers.rule_suggester - INFO - Đã suy luận được 0 recommendations
2025-06-18 22:00:37,640 - __main__ - INFO - Đề xuất: []
2025-06-18 22:00:43,440 - __main__ - INFO - Đang đóng ứng dụng...
2025-06-18 22:00:43,441 - models.database - INFO - Đã đóng kết nối database
2025-06-18 22:00:43,563 - __main__ - INFO - Đóng ứng dụng MyAI...
2025-06-18 22:05:40,971 - __main__ - INFO - Khởi động ứng dụng MyAI...
2025-06-18 22:05:41,253 - __main__ - DEBUG - Đang khởi tạo MainWindow...
2025-06-18 22:05:41,343 - models.database - INFO - Khởi tạo DatabaseManager...
2025-06-18 22:05:41,344 - models.database - DEBUG - Tạo kết nối ban đầu...
2025-06-18 22:05:41,344 - models.database - DEBUG - Thiết lập các tùy chọn SQLite...
2025-06-18 22:05:41,345 - models.database - DEBUG - Tạo các bảng...
2025-06-18 22:05:41,345 - models.database - DEBUG - Bắt đầu tạo các bảng...
2025-06-18 22:05:41,345 - models.database - INFO - Đã cập nhật schema cho bảng weather_data
2025-06-18 22:05:41,346 - models.database - INFO - Đã cập nhật schema cho bảng api_cache
2025-06-18 22:05:41,346 - models.database - INFO - Đã cập nhật schema cho bảng user_interactions_log
2025-06-18 22:05:41,346 - models.database - DEBUG - Tạo các index...
2025-06-18 22:05:41,346 - models.database - INFO - Đã tạo các bảng và index thành công
2025-06-18 22:05:41,346 - models.database - DEBUG - Khởi tạo connection pool...
2025-06-18 22:05:41,346 - models.database - DEBUG - Khởi tạo cache...
2025-06-18 22:05:41,346 - models.database - INFO - DatabaseManager đã được khởi tạo thành công
2025-06-18 22:05:41,368 - views.components.greeting_frame - DEBUG - Khởi tạo GreetingFrame...
2025-06-18 22:05:41,380 - views.components.greeting_frame - DEBUG - Cập nhật lời chào và thời gian lần đầu...
2025-06-18 22:05:41,380 - views.components.greeting_frame - DEBUG - Cập nhật greeting_label với text: Chào buổi tối Dương Huy!
2025-06-18 22:05:41,381 - views.components.greeting_frame - DEBUG - Cập nhật greeting_label với text: Chào buổi tối Dương Huy!
2025-06-18 22:05:41,381 - views.components.greeting_frame - DEBUG - Khởi tạo GreetingFrame hoàn tất.
2025-06-18 22:05:41,433 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): api.openweathermap.org:80
2025-06-18 22:05:41,542 - urllib3.connectionpool - DEBUG - http://api.openweathermap.org:80 "GET /data/2.5/weather?q=Hanoi&appid=1cfcda7a3ee2a0f49e546a462ef6851b&units=metric&lang=vi HTTP/1.1" 200 523
2025-06-18 22:05:41,545 - views.components.weather_frame - DEBUG - Dữ liệu thời tiết từ WeatherService: {'city': 'Hanoi', 'temperature': 31, 'description': 'mưa nhẹ', 'humidity': 83, 'wind_speed': 6.36}
2025-06-18 22:05:41,545 - views.components.weather_frame - DEBUG - Dữ liệu thời tiết nhận được: {'city': 'Hanoi', 'temperature': 31, 'description': 'mưa nhẹ', 'humidity': 83, 'wind_speed': 6.36}
2025-06-18 22:05:41,572 - PIL.PngImagePlugin - DEBUG - STREAM b'IHDR' 16 13
2025-06-18 22:05:41,572 - PIL.PngImagePlugin - DEBUG - STREAM b'IDAT' 41 1741
2025-06-18 22:05:41,582 - views.components.weather_frame - ERROR - Lỗi khi configure icon_label: image "pyimage1" doesn't exist
2025-06-18 22:05:41,583 - views.components.weather_frame - DEBUG - Cập nhật thông tin hàng đầu thành công.
2025-06-18 22:05:41,583 - views.components.weather_frame - DEBUG - Cập nhật labels chính thành công.
2025-06-18 22:05:41,583 - views.components.weather_frame - DEBUG - Cập nhật metrics thành công.
2025-06-18 22:05:41,584 - views.components.weather_frame - DEBUG - Cập nhật mô tả dự báo hàng ngày thành công.
2025-06-18 22:05:42,004 - __main__ - INFO - Màu sắc giao diện được cập nhật.
2025-06-18 22:05:42,005 - __main__ - INFO - Cập nhật thời gian: 22:05:42
2025-06-18 22:05:42,005 - __main__ - INFO - Ứng dụng đã sẵn sàng!
2025-06-18 22:05:42,301 - __main__ - WARNING - GreetingFrame đã được khởi tạo, bỏ qua
2025-06-18 22:05:42,305 - models.knowledge_base - INFO - Loaded 4 rules from H:\my_ai\models\knowledge_base.json.
2025-06-18 22:05:42,305 - controllers.inference_engine - INFO - Inference Engine initialized.
2025-06-18 22:05:42,305 - controllers.rule_suggester - INFO - Rule Suggester initialized.
2025-06-18 22:05:42,306 - __main__ - INFO - Bắt đầu suy luận hệ chuyên gia...
2025-06-18 22:05:42,309 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): api.openweathermap.org:80
2025-06-18 22:05:42,398 - urllib3.connectionpool - DEBUG - http://api.openweathermap.org:80 "GET /data/2.5/weather?q=Hanoi&appid=1cfcda7a3ee2a0f49e546a462ef6851b&units=metric&lang=vi HTTP/1.1" 200 523
2025-06-18 22:05:42,399 - __main__ - INFO - Các sự kiện thu thập được: {'time_category': 'night', 'day_of_week': 'Wednesday', 'current_hour': 22, 'has_schedule': False, 'schedule_count': 0, 'schedule_activity': 'None', 'schedule_empty_or_flexible': True, 'recent_apps': ['App_2025-06-17 07:12:55', 'App_2025-06-17 07:11:57', 'App_2025-06-17 07:10:16'], 'vscode_status': 'closed', 'weather_condition': 'mưa'}
2025-06-18 22:05:42,399 - controllers.rule_suggester - INFO - Bắt đầu suy luận quy tắc từ facts...
2025-06-18 22:05:42,400 - controllers.inference_engine - INFO - Inference Engine initialized.
2025-06-18 22:05:42,400 - controllers.inference_engine - INFO - Bắt đầu suy luận với facts: {'time_category': 'night', 'day_of_week': 'Wednesday', 'current_hour': 22, 'has_schedule': False, 'schedule_count': 0, 'schedule_activity': 'None', 'schedule_empty_or_flexible': True, 'recent_apps': ['App_2025-06-17 07:12:55', 'App_2025-06-17 07:11:57', 'App_2025-06-17 07:10:16'], 'vscode_status': 'closed', 'weather_condition': 'mưa'}
2025-06-18 22:05:42,400 - controllers.inference_engine - INFO - Số lượng quy tắc: 4
2025-06-18 22:05:42,400 - controllers.inference_engine - INFO - 
Đánh giá quy tắc: rule_1_rainy_gym
2025-06-18 22:05:42,400 - controllers.inference_engine - INFO - Mô tả: Nếu trời mưa và có lịch tập Gym, đề xuất mang ô/áo mưa.
2025-06-18 22:05:42,400 - controllers.inference_engine - INFO - Đánh giá điều kiện: weather_condition contains mưa
2025-06-18 22:05:42,400 - controllers.inference_engine - INFO - Giá trị thực tế: mưa
2025-06-18 22:05:42,400 - controllers.inference_engine - DEBUG - Đánh giá điều kiện: fact_value=mưa, operator=contains, condition_value=mưa
2025-06-18 22:05:42,400 - controllers.inference_engine - DEBUG - Kết quả đánh giá: True
2025-06-18 22:05:42,400 - controllers.inference_engine - INFO - Đánh giá điều kiện: schedule_activity == Gym
2025-06-18 22:05:42,400 - controllers.inference_engine - INFO - Giá trị thực tế: None
2025-06-18 22:05:42,400 - controllers.inference_engine - DEBUG - Đánh giá điều kiện: fact_value=None, operator===, condition_value=Gym
2025-06-18 22:05:42,401 - controllers.inference_engine - DEBUG - Kết quả đánh giá: False
2025-06-18 22:05:42,401 - controllers.inference_engine - INFO - Điều kiện không thỏa mãn cho quy tắc 'rule_1_rainy_gym'
2025-06-18 22:05:42,401 - controllers.inference_engine - INFO - Quy tắc 'rule_1_rainy_gym' không được kích hoạt
2025-06-18 22:05:42,401 - controllers.inference_engine - INFO - 
Đánh giá quy tắc: rule_2_morning_vscode
2025-06-18 22:05:42,401 - controllers.inference_engine - INFO - Mô tả: Nếu là buổi sáng và VSCode chưa mở, đề xuất mở VSCode.
2025-06-18 22:05:42,401 - controllers.inference_engine - INFO - Đánh giá điều kiện: time_category == morning
2025-06-18 22:05:42,401 - controllers.inference_engine - INFO - Giá trị thực tế: night
2025-06-18 22:05:42,401 - controllers.inference_engine - DEBUG - Đánh giá điều kiện: fact_value=night, operator===, condition_value=morning
2025-06-18 22:05:42,401 - controllers.inference_engine - DEBUG - Kết quả đánh giá: False
2025-06-18 22:05:42,401 - controllers.inference_engine - INFO - Điều kiện không thỏa mãn cho quy tắc 'rule_2_morning_vscode'
2025-06-18 22:05:42,401 - controllers.inference_engine - INFO - Quy tắc 'rule_2_morning_vscode' không được kích hoạt
2025-06-18 22:05:42,401 - controllers.inference_engine - INFO - 
Đánh giá quy tắc: rule_3_weekend_relax
2025-06-18 22:05:42,401 - controllers.inference_engine - INFO - Mô tả: Nếu là cuối tuần và không có lịch trình cụ thể, đề xuất nghỉ ngơi/giải trí.
2025-06-18 22:05:42,402 - controllers.inference_engine - INFO - Đánh giá điều kiện: day_of_week in ['Saturday', 'Sunday']
2025-06-18 22:05:42,402 - controllers.inference_engine - INFO - Giá trị thực tế: Wednesday
2025-06-18 22:05:42,402 - controllers.inference_engine - DEBUG - Đánh giá điều kiện: fact_value=Wednesday, operator=in, condition_value=['Saturday', 'Sunday']
2025-06-18 22:05:42,402 - controllers.inference_engine - DEBUG - Kết quả đánh giá: False
2025-06-18 22:05:42,402 - controllers.inference_engine - INFO - Điều kiện không thỏa mãn cho quy tắc 'rule_3_weekend_relax'
2025-06-18 22:05:42,402 - controllers.inference_engine - INFO - Quy tắc 'rule_3_weekend_relax' không được kích hoạt
2025-06-18 22:05:42,402 - controllers.inference_engine - INFO - 
Đánh giá quy tắc: rule_4_afternoon_break
2025-06-18 22:05:42,402 - controllers.inference_engine - INFO - Mô tả: Nếu là buổi chiều và lịch trình trống, đề xuất nghỉ ngơi.
2025-06-18 22:05:42,402 - controllers.inference_engine - INFO - Đánh giá điều kiện: time_category == afternoon
2025-06-18 22:05:42,402 - controllers.inference_engine - INFO - Giá trị thực tế: night
2025-06-18 22:05:42,403 - controllers.inference_engine - DEBUG - Đánh giá điều kiện: fact_value=night, operator===, condition_value=afternoon
2025-06-18 22:05:42,403 - controllers.inference_engine - DEBUG - Kết quả đánh giá: False
2025-06-18 22:05:42,403 - controllers.inference_engine - INFO - Điều kiện không thỏa mãn cho quy tắc 'rule_4_afternoon_break'
2025-06-18 22:05:42,403 - controllers.inference_engine - INFO - Quy tắc 'rule_4_afternoon_break' không được kích hoạt
2025-06-18 22:05:42,403 - controllers.inference_engine - INFO - Kết thúc suy luận. Số hành động được kích hoạt: 0
2025-06-18 22:05:42,403 - controllers.rule_suggester - INFO - Đã suy luận được 0 recommendations
2025-06-18 22:05:42,403 - __main__ - INFO - Đề xuất: []
2025-06-18 22:05:45,225 - __main__ - INFO - Đang đóng ứng dụng...
2025-06-18 22:05:45,226 - models.database - INFO - Đã đóng kết nối database
2025-06-18 22:05:45,464 - __main__ - INFO - Đóng ứng dụng MyAI...
2025-06-18 22:07:32,360 - __main__ - INFO - Khởi động ứng dụng MyAI...
2025-06-18 22:07:32,565 - __main__ - DEBUG - Đang khởi tạo MainWindow...
2025-06-18 22:07:32,666 - models.database - INFO - Khởi tạo DatabaseManager...
2025-06-18 22:07:32,667 - models.database - DEBUG - Tạo kết nối ban đầu...
2025-06-18 22:07:32,667 - models.database - DEBUG - Thiết lập các tùy chọn SQLite...
2025-06-18 22:07:32,669 - models.database - DEBUG - Tạo các bảng...
2025-06-18 22:07:32,669 - models.database - DEBUG - Bắt đầu tạo các bảng...
2025-06-18 22:07:32,669 - models.database - INFO - Đã cập nhật schema cho bảng weather_data
2025-06-18 22:07:32,669 - models.database - INFO - Đã cập nhật schema cho bảng api_cache
2025-06-18 22:07:32,670 - models.database - INFO - Đã cập nhật schema cho bảng user_interactions_log
2025-06-18 22:07:32,670 - models.database - DEBUG - Tạo các index...
2025-06-18 22:07:32,670 - models.database - INFO - Đã tạo các bảng và index thành công
2025-06-18 22:07:32,670 - models.database - DEBUG - Khởi tạo connection pool...
2025-06-18 22:07:32,670 - models.database - DEBUG - Khởi tạo cache...
2025-06-18 22:07:32,670 - models.database - INFO - DatabaseManager đã được khởi tạo thành công
2025-06-18 22:07:32,706 - views.components.greeting_frame - DEBUG - Khởi tạo GreetingFrame...
2025-06-18 22:07:32,720 - views.components.greeting_frame - DEBUG - Cập nhật lời chào và thời gian lần đầu...
2025-06-18 22:07:32,720 - views.components.greeting_frame - DEBUG - Cập nhật greeting_label với text: Chào buổi tối Dương Huy!
2025-06-18 22:07:32,721 - views.components.greeting_frame - DEBUG - Cập nhật greeting_label với text: Chào buổi tối Dương Huy!
2025-06-18 22:07:32,721 - views.components.greeting_frame - DEBUG - Khởi tạo GreetingFrame hoàn tất.
2025-06-18 22:07:32,785 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): api.openweathermap.org:80
2025-06-18 22:07:32,873 - urllib3.connectionpool - DEBUG - http://api.openweathermap.org:80 "GET /data/2.5/weather?q=Hanoi&appid=1cfcda7a3ee2a0f49e546a462ef6851b&units=metric&lang=vi HTTP/1.1" 200 523
2025-06-18 22:07:32,878 - views.components.weather_frame - DEBUG - Dữ liệu thời tiết từ WeatherService: {'city': 'Hanoi', 'temperature': 31, 'description': 'mưa nhẹ', 'humidity': 83, 'wind_speed': 6.36}
2025-06-18 22:07:32,878 - views.components.weather_frame - DEBUG - Dữ liệu thời tiết nhận được: {'city': 'Hanoi', 'temperature': 31, 'description': 'mưa nhẹ', 'humidity': 83, 'wind_speed': 6.36}
2025-06-18 22:07:32,905 - PIL.PngImagePlugin - DEBUG - STREAM b'IHDR' 16 13
2025-06-18 22:07:32,906 - PIL.PngImagePlugin - DEBUG - STREAM b'IDAT' 41 1741
2025-06-18 22:07:32,917 - views.components.weather_frame - ERROR - Lỗi khi configure icon_label: image "pyimage1" doesn't exist
2025-06-18 22:07:32,917 - views.components.weather_frame - DEBUG - Cập nhật thông tin hàng đầu thành công.
2025-06-18 22:07:32,918 - views.components.weather_frame - DEBUG - Cập nhật labels chính thành công.
2025-06-18 22:07:32,919 - views.components.weather_frame - DEBUG - Cập nhật metrics thành công.
2025-06-18 22:07:32,919 - views.components.weather_frame - DEBUG - Cập nhật mô tả dự báo hàng ngày thành công.
2025-06-18 22:07:33,306 - __main__ - INFO - Màu sắc giao diện được cập nhật.
2025-06-18 22:07:33,307 - __main__ - INFO - Cập nhật thời gian: 22:07:33
2025-06-18 22:07:33,308 - __main__ - INFO - Ứng dụng đã sẵn sàng!
2025-06-18 22:07:33,619 - __main__ - WARNING - GreetingFrame đã được khởi tạo, bỏ qua
2025-06-18 22:07:33,620 - models.knowledge_base - INFO - Loaded 4 rules from H:\my_ai\models\knowledge_base.json.
2025-06-18 22:07:33,620 - controllers.inference_engine - INFO - Inference Engine initialized.
2025-06-18 22:07:33,621 - controllers.rule_suggester - INFO - Rule Suggester initialized.
2025-06-18 22:07:33,621 - __main__ - INFO - Bắt đầu suy luận hệ chuyên gia...
2025-06-18 22:07:33,622 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): api.openweathermap.org:80
2025-06-18 22:07:33,714 - urllib3.connectionpool - DEBUG - http://api.openweathermap.org:80 "GET /data/2.5/weather?q=Hanoi&appid=1cfcda7a3ee2a0f49e546a462ef6851b&units=metric&lang=vi HTTP/1.1" 200 523
2025-06-18 22:07:33,715 - __main__ - INFO - Các sự kiện thu thập được: {'time_category': 'night', 'day_of_week': 'Wednesday', 'current_hour': 22, 'has_schedule': False, 'schedule_count': 0, 'schedule_activity': 'None', 'schedule_empty_or_flexible': True, 'recent_apps': ['App_2025-06-17 07:12:55', 'App_2025-06-17 07:11:57', 'App_2025-06-17 07:10:16'], 'vscode_status': 'closed', 'weather_condition': 'mưa'}
2025-06-18 22:07:33,715 - controllers.rule_suggester - INFO - Bắt đầu suy luận quy tắc từ facts...
2025-06-18 22:07:33,715 - controllers.inference_engine - INFO - Inference Engine initialized.
2025-06-18 22:07:33,715 - controllers.inference_engine - INFO - Bắt đầu suy luận với facts: {'time_category': 'night', 'day_of_week': 'Wednesday', 'current_hour': 22, 'has_schedule': False, 'schedule_count': 0, 'schedule_activity': 'None', 'schedule_empty_or_flexible': True, 'recent_apps': ['App_2025-06-17 07:12:55', 'App_2025-06-17 07:11:57', 'App_2025-06-17 07:10:16'], 'vscode_status': 'closed', 'weather_condition': 'mưa'}
2025-06-18 22:07:33,715 - controllers.inference_engine - INFO - Số lượng quy tắc: 4
2025-06-18 22:07:33,716 - controllers.inference_engine - INFO - 
Đánh giá quy tắc: rule_1_rainy_gym
2025-06-18 22:07:33,716 - controllers.inference_engine - INFO - Mô tả: Nếu trời mưa và có lịch tập Gym, đề xuất mang ô/áo mưa.
2025-06-18 22:07:33,716 - controllers.inference_engine - INFO - Đánh giá điều kiện: weather_condition contains mưa
2025-06-18 22:07:33,716 - controllers.inference_engine - INFO - Giá trị thực tế: mưa
2025-06-18 22:07:33,716 - controllers.inference_engine - DEBUG - Đánh giá điều kiện: fact_value=mưa, operator=contains, condition_value=mưa
2025-06-18 22:07:33,716 - controllers.inference_engine - DEBUG - Kết quả đánh giá: True
2025-06-18 22:07:33,716 - controllers.inference_engine - INFO - Đánh giá điều kiện: schedule_activity == Gym
2025-06-18 22:07:33,716 - controllers.inference_engine - INFO - Giá trị thực tế: None
2025-06-18 22:07:33,716 - controllers.inference_engine - DEBUG - Đánh giá điều kiện: fact_value=None, operator===, condition_value=Gym
2025-06-18 22:07:33,716 - controllers.inference_engine - DEBUG - Kết quả đánh giá: False
2025-06-18 22:07:33,717 - controllers.inference_engine - INFO - Điều kiện không thỏa mãn cho quy tắc 'rule_1_rainy_gym'
2025-06-18 22:07:33,717 - controllers.inference_engine - INFO - Quy tắc 'rule_1_rainy_gym' không được kích hoạt
2025-06-18 22:07:33,717 - controllers.inference_engine - INFO - 
Đánh giá quy tắc: rule_2_morning_vscode
2025-06-18 22:07:33,717 - controllers.inference_engine - INFO - Mô tả: Nếu là buổi sáng và VSCode chưa mở, đề xuất mở VSCode.
2025-06-18 22:07:33,717 - controllers.inference_engine - INFO - Đánh giá điều kiện: time_category == morning
2025-06-18 22:07:33,717 - controllers.inference_engine - INFO - Giá trị thực tế: night
2025-06-18 22:07:33,717 - controllers.inference_engine - DEBUG - Đánh giá điều kiện: fact_value=night, operator===, condition_value=morning
2025-06-18 22:07:33,717 - controllers.inference_engine - DEBUG - Kết quả đánh giá: False
2025-06-18 22:07:33,717 - controllers.inference_engine - INFO - Điều kiện không thỏa mãn cho quy tắc 'rule_2_morning_vscode'
2025-06-18 22:07:33,717 - controllers.inference_engine - INFO - Quy tắc 'rule_2_morning_vscode' không được kích hoạt
2025-06-18 22:07:33,717 - controllers.inference_engine - INFO - 
Đánh giá quy tắc: rule_3_weekend_relax
2025-06-18 22:07:33,717 - controllers.inference_engine - INFO - Mô tả: Nếu là cuối tuần và không có lịch trình cụ thể, đề xuất nghỉ ngơi/giải trí.
2025-06-18 22:07:33,717 - controllers.inference_engine - INFO - Đánh giá điều kiện: day_of_week in ['Saturday', 'Sunday']
2025-06-18 22:07:33,717 - controllers.inference_engine - INFO - Giá trị thực tế: Wednesday
2025-06-18 22:07:33,717 - controllers.inference_engine - DEBUG - Đánh giá điều kiện: fact_value=Wednesday, operator=in, condition_value=['Saturday', 'Sunday']
2025-06-18 22:07:33,717 - controllers.inference_engine - DEBUG - Kết quả đánh giá: False
2025-06-18 22:07:33,718 - controllers.inference_engine - INFO - Điều kiện không thỏa mãn cho quy tắc 'rule_3_weekend_relax'
2025-06-18 22:07:33,718 - controllers.inference_engine - INFO - Quy tắc 'rule_3_weekend_relax' không được kích hoạt
2025-06-18 22:07:33,718 - controllers.inference_engine - INFO - 
Đánh giá quy tắc: rule_4_afternoon_break
2025-06-18 22:07:33,718 - controllers.inference_engine - INFO - Mô tả: Nếu là buổi chiều và lịch trình trống, đề xuất nghỉ ngơi.
2025-06-18 22:07:33,718 - controllers.inference_engine - INFO - Đánh giá điều kiện: time_category == afternoon
2025-06-18 22:07:33,718 - controllers.inference_engine - INFO - Giá trị thực tế: night
2025-06-18 22:07:33,718 - controllers.inference_engine - DEBUG - Đánh giá điều kiện: fact_value=night, operator===, condition_value=afternoon
2025-06-18 22:07:33,718 - controllers.inference_engine - DEBUG - Kết quả đánh giá: False
2025-06-18 22:07:33,718 - controllers.inference_engine - INFO - Điều kiện không thỏa mãn cho quy tắc 'rule_4_afternoon_break'
2025-06-18 22:07:33,718 - controllers.inference_engine - INFO - Quy tắc 'rule_4_afternoon_break' không được kích hoạt
2025-06-18 22:07:33,718 - controllers.inference_engine - INFO - Kết thúc suy luận. Số hành động được kích hoạt: 0
2025-06-18 22:07:33,718 - controllers.rule_suggester - INFO - Đã suy luận được 0 recommendations
2025-06-18 22:07:33,718 - __main__ - INFO - Đề xuất: []
2025-06-18 22:07:40,319 - __main__ - INFO - Đang đóng ứng dụng...
2025-06-18 22:07:40,320 - models.database - INFO - Đã đóng kết nối database
2025-06-18 22:07:40,494 - __main__ - INFO - Đóng ứng dụng MyAI...
2025-06-18 22:11:16,099 - __main__ - INFO - Khởi động ứng dụng MyAI...
2025-06-18 22:11:16,160 - __main__ - DEBUG - Đang khởi tạo MainWindow...
2025-06-18 22:11:16,325 - models.database - INFO - Khởi tạo DatabaseManager...
2025-06-18 22:11:16,326 - models.database - DEBUG - Tạo kết nối ban đầu...
2025-06-18 22:11:16,326 - models.database - DEBUG - Thiết lập các tùy chọn SQLite...
2025-06-18 22:11:16,327 - models.database - DEBUG - Tạo các bảng...
2025-06-18 22:11:16,328 - models.database - DEBUG - Bắt đầu tạo các bảng...
2025-06-18 22:11:16,328 - models.database - INFO - Đã cập nhật schema cho bảng weather_data
2025-06-18 22:11:16,328 - models.database - INFO - Đã cập nhật schema cho bảng api_cache
2025-06-18 22:11:16,328 - models.database - INFO - Đã cập nhật schema cho bảng user_interactions_log
2025-06-18 22:11:16,328 - models.database - DEBUG - Tạo các index...
2025-06-18 22:11:16,329 - models.database - INFO - Đã tạo các bảng và index thành công
2025-06-18 22:11:16,329 - models.database - DEBUG - Khởi tạo connection pool...
2025-06-18 22:11:16,329 - models.database - DEBUG - Khởi tạo cache...
2025-06-18 22:11:16,329 - models.database - INFO - DatabaseManager đã được khởi tạo thành công
2025-06-18 22:11:16,330 - models.knowledge_base - INFO - Loaded 4 rules from H:\my_ai\models\knowledge_base.json.
2025-06-18 22:11:16,349 - views.components.greeting_frame - DEBUG - Khởi tạo GreetingFrame...
2025-06-18 22:11:16,360 - views.components.greeting_frame - DEBUG - Cập nhật lời chào và thời gian lần đầu...
2025-06-18 22:11:16,360 - views.components.greeting_frame - DEBUG - Cập nhật greeting_label với text: Chào buổi tối Dương Huy!
2025-06-18 22:11:16,360 - views.components.greeting_frame - DEBUG - Cập nhật greeting_label với text: Chào buổi tối Dương Huy!
2025-06-18 22:11:16,361 - views.components.greeting_frame - DEBUG - Khởi tạo GreetingFrame hoàn tất.
2025-06-18 22:11:16,420 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): api.openweathermap.org:80
2025-06-18 22:11:16,533 - urllib3.connectionpool - DEBUG - http://api.openweathermap.org:80 "GET /data/2.5/weather?q=Hanoi&appid=1cfcda7a3ee2a0f49e546a462ef6851b&units=metric&lang=vi HTTP/1.1" 200 511
2025-06-18 22:11:16,537 - views.components.weather_frame - DEBUG - Dữ liệu thời tiết từ WeatherService: {'city': 'Hanoi', 'temperature': 31, 'description': 'mây đen u ám', 'humidity': 83, 'wind_speed': 6.36}
2025-06-18 22:11:16,537 - views.components.weather_frame - DEBUG - Dữ liệu thời tiết nhận được: {'city': 'Hanoi', 'temperature': 31, 'description': 'mây đen u ám', 'humidity': 83, 'wind_speed': 6.36}
2025-06-18 22:11:16,562 - PIL.PngImagePlugin - DEBUG - STREAM b'IHDR' 16 13
2025-06-18 22:11:16,563 - PIL.PngImagePlugin - DEBUG - STREAM b'IDAT' 41 1741
2025-06-18 22:11:16,578 - views.components.weather_frame - DEBUG - Đã cập nhật icon thời tiết thành công: 04d
2025-06-18 22:11:16,579 - views.components.weather_frame - DEBUG - Cập nhật thông tin hàng đầu thành công.
2025-06-18 22:11:16,579 - views.components.weather_frame - DEBUG - Cập nhật labels chính thành công.
2025-06-18 22:11:16,580 - views.components.weather_frame - DEBUG - Cập nhật metrics thành công.
2025-06-18 22:11:16,580 - views.components.weather_frame - DEBUG - Cập nhật mô tả dự báo hàng ngày thành công.
2025-06-18 22:11:17,060 - __main__ - INFO - Đang khởi tạo các dịch vụ và bộ điều khiển...
2025-06-18 22:11:17,062 - controllers.inference_engine - INFO - Inference Engine initialized.
2025-06-18 22:11:17,062 - controllers.rule_suggester - INFO - Rule Suggester initialized.
2025-06-18 22:11:17,062 - __main__ - ERROR - Lỗi khởi tạo services: ScheduleController.__init__() missing 1 required positional argument: 'fact_collector'
Traceback (most recent call last):
  File "H:\my_ai\main.py", line 376, in _initialize_services
    self.schedule_controller = ScheduleController(self.db)
                               ~~~~~~~~~~~~~~~~~~^^^^^^^^^
TypeError: ScheduleController.__init__() missing 1 required positional argument: 'fact_collector'
2025-06-18 22:11:17,064 - __main__ - INFO - Bắt đầu suy luận hệ chuyên gia...
2025-06-18 22:11:17,068 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): api.openweathermap.org:80
2025-06-18 22:11:17,152 - urllib3.connectionpool - DEBUG - http://api.openweathermap.org:80 "GET /data/2.5/weather?q=Hanoi&appid=1cfcda7a3ee2a0f49e546a462ef6851b&units=metric&lang=vi HTTP/1.1" 200 511
2025-06-18 22:11:17,153 - __main__ - INFO - Các sự kiện thu thập được: {'time_category': 'night', 'day_of_week': 'Wednesday', 'current_hour': 22, 'has_schedule': False, 'schedule_count': 0, 'schedule_activity': 'None', 'schedule_empty_or_flexible': True, 'recent_apps': ['App_2025-06-17 07:12:55', 'App_2025-06-17 07:11:57', 'App_2025-06-17 07:10:16'], 'vscode_status': 'closed', 'weather_condition': 'mây đen u ám'}
2025-06-18 22:11:17,153 - controllers.rule_suggester - INFO - Bắt đầu suy luận quy tắc từ facts...
2025-06-18 22:11:17,153 - controllers.inference_engine - INFO - Inference Engine initialized.
2025-06-18 22:11:17,153 - controllers.inference_engine - INFO - Bắt đầu suy luận với facts: {'time_category': 'night', 'day_of_week': 'Wednesday', 'current_hour': 22, 'has_schedule': False, 'schedule_count': 0, 'schedule_activity': 'None', 'schedule_empty_or_flexible': True, 'recent_apps': ['App_2025-06-17 07:12:55', 'App_2025-06-17 07:11:57', 'App_2025-06-17 07:10:16'], 'vscode_status': 'closed', 'weather_condition': 'mây đen u ám'}
2025-06-18 22:11:17,153 - controllers.inference_engine - INFO - Số lượng quy tắc: 4
2025-06-18 22:11:17,153 - controllers.inference_engine - INFO - 
Đánh giá quy tắc: rule_1_rainy_gym
2025-06-18 22:11:17,154 - controllers.inference_engine - INFO - Mô tả: Nếu trời mưa và có lịch tập Gym, đề xuất mang ô/áo mưa.
2025-06-18 22:11:17,154 - controllers.inference_engine - INFO - Đánh giá điều kiện: weather_condition contains mưa
2025-06-18 22:11:17,154 - controllers.inference_engine - INFO - Giá trị thực tế: mây đen u ám
2025-06-18 22:11:17,154 - controllers.inference_engine - DEBUG - Đánh giá điều kiện: fact_value=mây đen u ám, operator=contains, condition_value=mưa
2025-06-18 22:11:17,154 - controllers.inference_engine - DEBUG - Kết quả đánh giá: False
2025-06-18 22:11:17,154 - controllers.inference_engine - INFO - Điều kiện không thỏa mãn cho quy tắc 'rule_1_rainy_gym'
2025-06-18 22:11:17,154 - controllers.inference_engine - INFO - Quy tắc 'rule_1_rainy_gym' không được kích hoạt
2025-06-18 22:11:17,154 - controllers.inference_engine - INFO - 
Đánh giá quy tắc: rule_2_morning_vscode
2025-06-18 22:11:17,154 - controllers.inference_engine - INFO - Mô tả: Nếu là buổi sáng và VSCode chưa mở, đề xuất mở VSCode.
2025-06-18 22:11:17,154 - controllers.inference_engine - INFO - Đánh giá điều kiện: time_category == morning
2025-06-18 22:11:17,154 - controllers.inference_engine - INFO - Giá trị thực tế: night
2025-06-18 22:11:17,154 - controllers.inference_engine - DEBUG - Đánh giá điều kiện: fact_value=night, operator===, condition_value=morning
2025-06-18 22:11:17,155 - controllers.inference_engine - DEBUG - Kết quả đánh giá: False
2025-06-18 22:11:17,155 - controllers.inference_engine - INFO - Điều kiện không thỏa mãn cho quy tắc 'rule_2_morning_vscode'
2025-06-18 22:11:17,155 - controllers.inference_engine - INFO - Quy tắc 'rule_2_morning_vscode' không được kích hoạt
2025-06-18 22:11:17,155 - controllers.inference_engine - INFO - 
Đánh giá quy tắc: rule_3_weekend_relax
2025-06-18 22:11:17,155 - controllers.inference_engine - INFO - Mô tả: Nếu là cuối tuần và không có lịch trình cụ thể, đề xuất nghỉ ngơi/giải trí.
2025-06-18 22:11:17,155 - controllers.inference_engine - INFO - Đánh giá điều kiện: day_of_week in ['Saturday', 'Sunday']
2025-06-18 22:11:17,155 - controllers.inference_engine - INFO - Giá trị thực tế: Wednesday
2025-06-18 22:11:17,155 - controllers.inference_engine - DEBUG - Đánh giá điều kiện: fact_value=Wednesday, operator=in, condition_value=['Saturday', 'Sunday']
2025-06-18 22:11:17,155 - controllers.inference_engine - DEBUG - Kết quả đánh giá: False
2025-06-18 22:11:17,155 - controllers.inference_engine - INFO - Điều kiện không thỏa mãn cho quy tắc 'rule_3_weekend_relax'
2025-06-18 22:11:17,155 - controllers.inference_engine - INFO - Quy tắc 'rule_3_weekend_relax' không được kích hoạt
2025-06-18 22:11:17,155 - controllers.inference_engine - INFO - 
Đánh giá quy tắc: rule_4_afternoon_break
2025-06-18 22:11:17,155 - controllers.inference_engine - INFO - Mô tả: Nếu là buổi chiều và lịch trình trống, đề xuất nghỉ ngơi.
2025-06-18 22:11:17,155 - controllers.inference_engine - INFO - Đánh giá điều kiện: time_category == afternoon
2025-06-18 22:11:17,155 - controllers.inference_engine - INFO - Giá trị thực tế: night
2025-06-18 22:11:17,156 - controllers.inference_engine - DEBUG - Đánh giá điều kiện: fact_value=night, operator===, condition_value=afternoon
2025-06-18 22:11:17,156 - controllers.inference_engine - DEBUG - Kết quả đánh giá: False
2025-06-18 22:11:17,156 - controllers.inference_engine - INFO - Điều kiện không thỏa mãn cho quy tắc 'rule_4_afternoon_break'
2025-06-18 22:11:17,156 - controllers.inference_engine - INFO - Quy tắc 'rule_4_afternoon_break' không được kích hoạt
2025-06-18 22:11:17,156 - controllers.inference_engine - INFO - Kết thúc suy luận. Số hành động được kích hoạt: 0
2025-06-18 22:11:17,156 - controllers.rule_suggester - INFO - Đã suy luận được 0 recommendations
2025-06-18 22:11:17,156 - __main__ - INFO - Đề xuất: []
2025-06-18 22:11:17,157 - __main__ - INFO - Màu sắc giao diện được cập nhật.
2025-06-18 22:11:17,157 - __main__ - INFO - Cập nhật thời gian: 22:11:17
2025-06-18 22:11:17,157 - __main__ - INFO - Ứng dụng đã sẵn sàng!
2025-06-18 22:11:33,679 - __main__ - INFO - Đang đóng ứng dụng...
2025-06-18 22:11:33,680 - models.database - INFO - Đã đóng kết nối database
2025-06-18 22:11:33,840 - __main__ - INFO - Đóng ứng dụng MyAI...
2025-06-18 22:12:02,079 - __main__ - INFO - Khởi động ứng dụng MyAI...
2025-06-18 22:12:02,132 - __main__ - DEBUG - Đang khởi tạo MainWindow...
2025-06-18 22:12:02,254 - models.database - INFO - Khởi tạo DatabaseManager...
2025-06-18 22:12:02,255 - models.database - DEBUG - Tạo kết nối ban đầu...
2025-06-18 22:12:02,255 - models.database - DEBUG - Thiết lập các tùy chọn SQLite...
2025-06-18 22:12:02,257 - models.database - DEBUG - Tạo các bảng...
2025-06-18 22:12:02,257 - models.database - DEBUG - Bắt đầu tạo các bảng...
2025-06-18 22:12:02,257 - models.database - INFO - Đã cập nhật schema cho bảng weather_data
2025-06-18 22:12:02,258 - models.database - INFO - Đã cập nhật schema cho bảng api_cache
2025-06-18 22:12:02,258 - models.database - INFO - Đã cập nhật schema cho bảng user_interactions_log
2025-06-18 22:12:02,258 - models.database - DEBUG - Tạo các index...
2025-06-18 22:12:02,259 - models.database - INFO - Đã tạo các bảng và index thành công
2025-06-18 22:12:02,259 - models.database - DEBUG - Khởi tạo connection pool...
2025-06-18 22:12:02,259 - models.database - DEBUG - Khởi tạo cache...
2025-06-18 22:12:02,259 - models.database - INFO - DatabaseManager đã được khởi tạo thành công
2025-06-18 22:12:02,262 - models.knowledge_base - INFO - Loaded 4 rules from H:\my_ai\models\knowledge_base.json.
2025-06-18 22:12:02,284 - views.components.greeting_frame - DEBUG - Khởi tạo GreetingFrame...
2025-06-18 22:12:02,294 - views.components.greeting_frame - DEBUG - Cập nhật lời chào và thời gian lần đầu...
2025-06-18 22:12:02,295 - views.components.greeting_frame - DEBUG - Cập nhật greeting_label với text: Chào buổi tối Dương Huy!
2025-06-18 22:12:02,295 - views.components.greeting_frame - DEBUG - Cập nhật greeting_label với text: Chào buổi tối Dương Huy!
2025-06-18 22:12:02,295 - views.components.greeting_frame - DEBUG - Khởi tạo GreetingFrame hoàn tất.
2025-06-18 22:12:02,335 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): api.openweathermap.org:80
2025-06-18 22:12:02,439 - urllib3.connectionpool - DEBUG - http://api.openweathermap.org:80 "GET /data/2.5/weather?q=Hanoi&appid=1cfcda7a3ee2a0f49e546a462ef6851b&units=metric&lang=vi HTTP/1.1" 200 511
2025-06-18 22:12:02,441 - views.components.weather_frame - DEBUG - Dữ liệu thời tiết từ WeatherService: {'city': 'Hanoi', 'temperature': 31, 'description': 'mây đen u ám', 'humidity': 83, 'wind_speed': 6.36}
2025-06-18 22:12:02,442 - views.components.weather_frame - DEBUG - Dữ liệu thời tiết nhận được: {'city': 'Hanoi', 'temperature': 31, 'description': 'mây đen u ám', 'humidity': 83, 'wind_speed': 6.36}
2025-06-18 22:12:02,470 - PIL.PngImagePlugin - DEBUG - STREAM b'IHDR' 16 13
2025-06-18 22:12:02,470 - PIL.PngImagePlugin - DEBUG - STREAM b'IDAT' 41 1741
2025-06-18 22:12:02,481 - views.components.weather_frame - DEBUG - Đã cập nhật icon thời tiết thành công: 04d
2025-06-18 22:12:02,481 - views.components.weather_frame - DEBUG - Cập nhật thông tin hàng đầu thành công.
2025-06-18 22:12:02,481 - views.components.weather_frame - DEBUG - Cập nhật labels chính thành công.
2025-06-18 22:12:02,482 - views.components.weather_frame - DEBUG - Cập nhật metrics thành công.
2025-06-18 22:12:02,482 - views.components.weather_frame - DEBUG - Cập nhật mô tả dự báo hàng ngày thành công.
2025-06-18 22:12:02,695 - __main__ - INFO - Đang khởi tạo các dịch vụ và bộ điều khiển...
2025-06-18 22:12:02,696 - controllers.inference_engine - INFO - Inference Engine initialized.
2025-06-18 22:12:02,696 - controllers.rule_suggester - INFO - Rule Suggester initialized.
2025-06-18 22:12:02,696 - __main__ - ERROR - Lỗi khởi tạo services: ScheduleController.__init__() missing 1 required positional argument: 'fact_collector'
Traceback (most recent call last):
  File "H:\my_ai\main.py", line 376, in _initialize_services
    self.schedule_controller = ScheduleController(self.db)
                               ~~~~~~~~~~~~~~~~~~^^^^^^^^^
TypeError: ScheduleController.__init__() missing 1 required positional argument: 'fact_collector'
2025-06-18 22:12:02,697 - __main__ - INFO - Bắt đầu suy luận hệ chuyên gia...
2025-06-18 22:12:02,699 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): api.openweathermap.org:80
2025-06-18 22:12:02,782 - urllib3.connectionpool - DEBUG - http://api.openweathermap.org:80 "GET /data/2.5/weather?q=Hanoi&appid=1cfcda7a3ee2a0f49e546a462ef6851b&units=metric&lang=vi HTTP/1.1" 200 511
2025-06-18 22:12:02,783 - __main__ - INFO - Các sự kiện thu thập được: {'time_category': 'night', 'day_of_week': 'Wednesday', 'current_hour': 22, 'has_schedule': False, 'schedule_count': 0, 'schedule_activity': 'None', 'schedule_empty_or_flexible': True, 'recent_apps': ['App_2025-06-17 07:12:55', 'App_2025-06-17 07:11:57', 'App_2025-06-17 07:10:16'], 'vscode_status': 'closed', 'weather_condition': 'mây đen u ám'}
2025-06-18 22:12:02,783 - controllers.rule_suggester - INFO - Bắt đầu suy luận quy tắc từ facts...
2025-06-18 22:12:02,783 - controllers.inference_engine - INFO - Inference Engine initialized.
2025-06-18 22:12:02,783 - controllers.inference_engine - INFO - Bắt đầu suy luận với facts: {'time_category': 'night', 'day_of_week': 'Wednesday', 'current_hour': 22, 'has_schedule': False, 'schedule_count': 0, 'schedule_activity': 'None', 'schedule_empty_or_flexible': True, 'recent_apps': ['App_2025-06-17 07:12:55', 'App_2025-06-17 07:11:57', 'App_2025-06-17 07:10:16'], 'vscode_status': 'closed', 'weather_condition': 'mây đen u ám'}
2025-06-18 22:12:02,783 - controllers.inference_engine - INFO - Số lượng quy tắc: 4
2025-06-18 22:12:02,783 - controllers.inference_engine - INFO - 
Đánh giá quy tắc: rule_1_rainy_gym
2025-06-18 22:12:02,783 - controllers.inference_engine - INFO - Mô tả: Nếu trời mưa và có lịch tập Gym, đề xuất mang ô/áo mưa.
2025-06-18 22:12:02,783 - controllers.inference_engine - INFO - Đánh giá điều kiện: weather_condition contains mưa
2025-06-18 22:12:02,783 - controllers.inference_engine - INFO - Giá trị thực tế: mây đen u ám
2025-06-18 22:12:02,783 - controllers.inference_engine - DEBUG - Đánh giá điều kiện: fact_value=mây đen u ám, operator=contains, condition_value=mưa
2025-06-18 22:12:02,783 - controllers.inference_engine - DEBUG - Kết quả đánh giá: False
2025-06-18 22:12:02,783 - controllers.inference_engine - INFO - Điều kiện không thỏa mãn cho quy tắc 'rule_1_rainy_gym'
2025-06-18 22:12:02,783 - controllers.inference_engine - INFO - Quy tắc 'rule_1_rainy_gym' không được kích hoạt
2025-06-18 22:12:02,783 - controllers.inference_engine - INFO - 
Đánh giá quy tắc: rule_2_morning_vscode
2025-06-18 22:12:02,783 - controllers.inference_engine - INFO - Mô tả: Nếu là buổi sáng và VSCode chưa mở, đề xuất mở VSCode.
2025-06-18 22:12:02,783 - controllers.inference_engine - INFO - Đánh giá điều kiện: time_category == morning
2025-06-18 22:12:02,783 - controllers.inference_engine - INFO - Giá trị thực tế: night
2025-06-18 22:12:02,783 - controllers.inference_engine - DEBUG - Đánh giá điều kiện: fact_value=night, operator===, condition_value=morning
2025-06-18 22:12:02,783 - controllers.inference_engine - DEBUG - Kết quả đánh giá: False
2025-06-18 22:12:02,783 - controllers.inference_engine - INFO - Điều kiện không thỏa mãn cho quy tắc 'rule_2_morning_vscode'
2025-06-18 22:12:02,783 - controllers.inference_engine - INFO - Quy tắc 'rule_2_morning_vscode' không được kích hoạt
2025-06-18 22:12:02,783 - controllers.inference_engine - INFO - 
Đánh giá quy tắc: rule_3_weekend_relax
2025-06-18 22:12:02,783 - controllers.inference_engine - INFO - Mô tả: Nếu là cuối tuần và không có lịch trình cụ thể, đề xuất nghỉ ngơi/giải trí.
2025-06-18 22:12:02,783 - controllers.inference_engine - INFO - Đánh giá điều kiện: day_of_week in ['Saturday', 'Sunday']
2025-06-18 22:12:02,783 - controllers.inference_engine - INFO - Giá trị thực tế: Wednesday
2025-06-18 22:12:02,783 - controllers.inference_engine - DEBUG - Đánh giá điều kiện: fact_value=Wednesday, operator=in, condition_value=['Saturday', 'Sunday']
2025-06-18 22:12:02,783 - controllers.inference_engine - DEBUG - Kết quả đánh giá: False
2025-06-18 22:12:02,783 - controllers.inference_engine - INFO - Điều kiện không thỏa mãn cho quy tắc 'rule_3_weekend_relax'
2025-06-18 22:12:02,783 - controllers.inference_engine - INFO - Quy tắc 'rule_3_weekend_relax' không được kích hoạt
2025-06-18 22:12:02,783 - controllers.inference_engine - INFO - 
Đánh giá quy tắc: rule_4_afternoon_break
2025-06-18 22:12:02,783 - controllers.inference_engine - INFO - Mô tả: Nếu là buổi chiều và lịch trình trống, đề xuất nghỉ ngơi.
2025-06-18 22:12:02,784 - controllers.inference_engine - INFO - Đánh giá điều kiện: time_category == afternoon
2025-06-18 22:12:02,784 - controllers.inference_engine - INFO - Giá trị thực tế: night
2025-06-18 22:12:02,784 - controllers.inference_engine - DEBUG - Đánh giá điều kiện: fact_value=night, operator===, condition_value=afternoon
2025-06-18 22:12:02,784 - controllers.inference_engine - DEBUG - Kết quả đánh giá: False
2025-06-18 22:12:02,784 - controllers.inference_engine - INFO - Điều kiện không thỏa mãn cho quy tắc 'rule_4_afternoon_break'
2025-06-18 22:12:02,784 - controllers.inference_engine - INFO - Quy tắc 'rule_4_afternoon_break' không được kích hoạt
2025-06-18 22:12:02,784 - controllers.inference_engine - INFO - Kết thúc suy luận. Số hành động được kích hoạt: 0
2025-06-18 22:12:02,784 - controllers.rule_suggester - INFO - Đã suy luận được 0 recommendations
2025-06-18 22:12:02,784 - __main__ - INFO - Đề xuất: []
2025-06-18 22:12:02,784 - __main__ - INFO - Màu sắc giao diện được cập nhật.
2025-06-18 22:12:02,785 - __main__ - INFO - Cập nhật thời gian: 22:12:02
2025-06-18 22:12:02,785 - __main__ - INFO - Ứng dụng đã sẵn sàng!
2025-06-18 22:12:31,206 - __main__ - INFO - Đang đóng ứng dụng...
2025-06-18 22:12:31,207 - models.database - INFO - Đã đóng kết nối database
2025-06-18 22:12:31,340 - __main__ - INFO - Đóng ứng dụng MyAI...
2025-06-18 22:14:13,009 - __main__ - INFO - Khởi động ứng dụng MyAI...
2025-06-18 22:14:13,077 - __main__ - DEBUG - Đang khởi tạo MainWindow...
2025-06-18 22:14:13,166 - models.database - INFO - Khởi tạo DatabaseManager...
2025-06-18 22:14:13,166 - models.database - DEBUG - Tạo kết nối ban đầu...
2025-06-18 22:14:13,167 - models.database - DEBUG - Thiết lập các tùy chọn SQLite...
2025-06-18 22:14:13,168 - models.database - DEBUG - Tạo các bảng...
2025-06-18 22:14:13,168 - models.database - DEBUG - Bắt đầu tạo các bảng...
2025-06-18 22:14:13,168 - models.database - INFO - Cập nhật schema bảng weather_data: thêm cột visibility
2025-06-18 22:14:13,170 - models.database - INFO - Cập nhật schema bảng weather_data: thêm cột dew_point
2025-06-18 22:14:13,171 - models.database - INFO - Cập nhật schema bảng weather_data: thêm cột temp_min
2025-06-18 22:14:13,171 - models.database - INFO - Cập nhật schema bảng weather_data: thêm cột temp_max
2025-06-18 22:14:13,172 - models.database - INFO - Đã cập nhật schema cho bảng weather_data
2025-06-18 22:14:13,172 - models.database - INFO - Đã cập nhật schema cho bảng api_cache
2025-06-18 22:14:13,172 - models.database - INFO - Đã cập nhật schema cho bảng user_interactions_log
2025-06-18 22:14:13,172 - models.database - DEBUG - Tạo các index...
2025-06-18 22:14:13,172 - models.database - INFO - Đã tạo các bảng và index thành công
2025-06-18 22:14:13,172 - models.database - DEBUG - Khởi tạo connection pool...
2025-06-18 22:14:13,172 - models.database - DEBUG - Khởi tạo cache...
2025-06-18 22:14:13,172 - models.database - INFO - DatabaseManager đã được khởi tạo thành công
2025-06-18 22:14:13,174 - models.knowledge_base - INFO - Loaded 4 rules from H:\my_ai\models\knowledge_base.json.
2025-06-18 22:14:13,194 - views.components.greeting_frame - DEBUG - Khởi tạo GreetingFrame...
2025-06-18 22:14:13,201 - views.components.greeting_frame - DEBUG - Cập nhật lời chào và thời gian lần đầu...
2025-06-18 22:14:13,201 - views.components.greeting_frame - DEBUG - Cập nhật greeting_label với text: Chào buổi tối Dương Huy!
2025-06-18 22:14:13,202 - views.components.greeting_frame - DEBUG - Cập nhật greeting_label với text: Chào buổi tối Dương Huy!
2025-06-18 22:14:13,202 - views.components.greeting_frame - DEBUG - Khởi tạo GreetingFrame hoàn tất.
2025-06-18 22:14:13,248 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): api.openweathermap.org:80
2025-06-18 22:14:13,354 - urllib3.connectionpool - DEBUG - http://api.openweathermap.org:80 "GET /data/2.5/weather?q=Hanoi&appid=1cfcda7a3ee2a0f49e546a462ef6851b&units=metric&lang=vi HTTP/1.1" 200 511
2025-06-18 22:14:13,356 - views.components.weather_frame - DEBUG - Dữ liệu thời tiết từ WeatherService: {'city': 'Hanoi', 'temperature': 31, 'description': 'mây đen u ám', 'humidity': 83, 'wind_speed': 6.36, 'pressure': 1003, 'visibility': 10000, 'dew_point': 31, 'feels_like': 38, 'temp_min': 31, 'temp_max': 31}
2025-06-18 22:14:13,356 - views.components.weather_frame - DEBUG - Dữ liệu thời tiết nhận được: {'city': 'Hanoi', 'temperature': 31, 'description': 'mây đen u ám', 'humidity': 83, 'wind_speed': 6.36, 'pressure': 1003, 'visibility': 10000, 'dew_point': 31, 'feels_like': 38, 'temp_min': 31, 'temp_max': 31}
2025-06-18 22:14:13,370 - PIL.PngImagePlugin - DEBUG - STREAM b'IHDR' 16 13
2025-06-18 22:14:13,370 - PIL.PngImagePlugin - DEBUG - STREAM b'IDAT' 41 1741
2025-06-18 22:14:13,379 - views.components.weather_frame - DEBUG - Đã cập nhật icon thời tiết thành công: 04d
2025-06-18 22:14:13,379 - views.components.weather_frame - DEBUG - Cập nhật thông tin hàng đầu thành công.
2025-06-18 22:14:13,380 - views.components.weather_frame - DEBUG - Cập nhật labels chính thành công.
2025-06-18 22:14:13,380 - views.components.weather_frame - DEBUG - Cập nhật metrics thành công.
2025-06-18 22:14:13,381 - views.components.weather_frame - DEBUG - Cập nhật mô tả dự báo hàng ngày thành công.
2025-06-18 22:14:13,637 - __main__ - INFO - Đang khởi tạo các dịch vụ và bộ điều khiển...
2025-06-18 22:14:13,638 - controllers.inference_engine - INFO - Inference Engine initialized.
2025-06-18 22:14:13,639 - controllers.rule_suggester - INFO - Rule Suggester initialized.
2025-06-18 22:14:13,639 - __main__ - INFO - Đã khởi tạo tất cả các dịch vụ và bộ điều khiển
2025-06-18 22:14:13,639 - __main__ - INFO - Bắt đầu suy luận hệ chuyên gia...
2025-06-18 22:14:13,641 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): api.openweathermap.org:80
2025-06-18 22:14:13,733 - urllib3.connectionpool - DEBUG - http://api.openweathermap.org:80 "GET /data/2.5/weather?q=Hanoi&appid=1cfcda7a3ee2a0f49e546a462ef6851b&units=metric&lang=vi HTTP/1.1" 200 511
2025-06-18 22:14:13,734 - __main__ - INFO - Các sự kiện thu thập được: {'time_category': 'night', 'day_of_week': 'Wednesday', 'current_hour': 22, 'has_schedule': False, 'schedule_count': 0, 'schedule_activity': 'None', 'schedule_empty_or_flexible': True, 'recent_apps': ['App_2025-06-17 07:12:55', 'App_2025-06-17 07:11:57', 'App_2025-06-17 07:10:16'], 'vscode_status': 'closed', 'weather_condition': 'mây đen u ám'}
2025-06-18 22:14:13,734 - controllers.rule_suggester - INFO - Bắt đầu suy luận quy tắc từ facts...
2025-06-18 22:14:13,734 - controllers.inference_engine - INFO - Inference Engine initialized.
2025-06-18 22:14:13,734 - controllers.inference_engine - INFO - Bắt đầu suy luận với facts: {'time_category': 'night', 'day_of_week': 'Wednesday', 'current_hour': 22, 'has_schedule': False, 'schedule_count': 0, 'schedule_activity': 'None', 'schedule_empty_or_flexible': True, 'recent_apps': ['App_2025-06-17 07:12:55', 'App_2025-06-17 07:11:57', 'App_2025-06-17 07:10:16'], 'vscode_status': 'closed', 'weather_condition': 'mây đen u ám'}
2025-06-18 22:14:13,734 - controllers.inference_engine - INFO - Số lượng quy tắc: 4
2025-06-18 22:14:13,734 - controllers.inference_engine - INFO - 
Đánh giá quy tắc: rule_1_rainy_gym
2025-06-18 22:14:13,734 - controllers.inference_engine - INFO - Mô tả: Nếu trời mưa và có lịch tập Gym, đề xuất mang ô/áo mưa.
2025-06-18 22:14:13,735 - controllers.inference_engine - INFO - Đánh giá điều kiện: weather_condition contains mưa
2025-06-18 22:14:13,735 - controllers.inference_engine - INFO - Giá trị thực tế: mây đen u ám
2025-06-18 22:14:13,735 - controllers.inference_engine - DEBUG - Đánh giá điều kiện: fact_value=mây đen u ám, operator=contains, condition_value=mưa
2025-06-18 22:14:13,735 - controllers.inference_engine - DEBUG - Kết quả đánh giá: False
2025-06-18 22:14:13,735 - controllers.inference_engine - INFO - Điều kiện không thỏa mãn cho quy tắc 'rule_1_rainy_gym'
2025-06-18 22:14:13,735 - controllers.inference_engine - INFO - Quy tắc 'rule_1_rainy_gym' không được kích hoạt
2025-06-18 22:14:13,735 - controllers.inference_engine - INFO - 
Đánh giá quy tắc: rule_2_morning_vscode
2025-06-18 22:14:13,735 - controllers.inference_engine - INFO - Mô tả: Nếu là buổi sáng và VSCode chưa mở, đề xuất mở VSCode.
2025-06-18 22:14:13,735 - controllers.inference_engine - INFO - Đánh giá điều kiện: time_category == morning
2025-06-18 22:14:13,735 - controllers.inference_engine - INFO - Giá trị thực tế: night
2025-06-18 22:14:13,735 - controllers.inference_engine - DEBUG - Đánh giá điều kiện: fact_value=night, operator===, condition_value=morning
2025-06-18 22:14:13,735 - controllers.inference_engine - DEBUG - Kết quả đánh giá: False
2025-06-18 22:14:13,735 - controllers.inference_engine - INFO - Điều kiện không thỏa mãn cho quy tắc 'rule_2_morning_vscode'
2025-06-18 22:14:13,735 - controllers.inference_engine - INFO - Quy tắc 'rule_2_morning_vscode' không được kích hoạt
2025-06-18 22:14:13,735 - controllers.inference_engine - INFO - 
Đánh giá quy tắc: rule_3_weekend_relax
2025-06-18 22:14:13,735 - controllers.inference_engine - INFO - Mô tả: Nếu là cuối tuần và không có lịch trình cụ thể, đề xuất nghỉ ngơi/giải trí.
2025-06-18 22:14:13,735 - controllers.inference_engine - INFO - Đánh giá điều kiện: day_of_week in ['Saturday', 'Sunday']
2025-06-18 22:14:13,736 - controllers.inference_engine - INFO - Giá trị thực tế: Wednesday
2025-06-18 22:14:13,736 - controllers.inference_engine - DEBUG - Đánh giá điều kiện: fact_value=Wednesday, operator=in, condition_value=['Saturday', 'Sunday']
2025-06-18 22:14:13,736 - controllers.inference_engine - DEBUG - Kết quả đánh giá: False
2025-06-18 22:14:13,736 - controllers.inference_engine - INFO - Điều kiện không thỏa mãn cho quy tắc 'rule_3_weekend_relax'
2025-06-18 22:14:13,736 - controllers.inference_engine - INFO - Quy tắc 'rule_3_weekend_relax' không được kích hoạt
2025-06-18 22:14:13,736 - controllers.inference_engine - INFO - 
Đánh giá quy tắc: rule_4_afternoon_break
2025-06-18 22:14:13,736 - controllers.inference_engine - INFO - Mô tả: Nếu là buổi chiều và lịch trình trống, đề xuất nghỉ ngơi.
2025-06-18 22:14:13,736 - controllers.inference_engine - INFO - Đánh giá điều kiện: time_category == afternoon
2025-06-18 22:14:13,736 - controllers.inference_engine - INFO - Giá trị thực tế: night
2025-06-18 22:14:13,736 - controllers.inference_engine - DEBUG - Đánh giá điều kiện: fact_value=night, operator===, condition_value=afternoon
2025-06-18 22:14:13,736 - controllers.inference_engine - DEBUG - Kết quả đánh giá: False
2025-06-18 22:14:13,736 - controllers.inference_engine - INFO - Điều kiện không thỏa mãn cho quy tắc 'rule_4_afternoon_break'
2025-06-18 22:14:13,736 - controllers.inference_engine - INFO - Quy tắc 'rule_4_afternoon_break' không được kích hoạt
2025-06-18 22:14:13,736 - controllers.inference_engine - INFO - Kết thúc suy luận. Số hành động được kích hoạt: 0
2025-06-18 22:14:13,736 - controllers.rule_suggester - INFO - Đã suy luận được 0 recommendations
2025-06-18 22:14:13,736 - __main__ - INFO - Đề xuất: []
2025-06-18 22:14:13,737 - __main__ - INFO - Màu sắc giao diện được cập nhật.
2025-06-18 22:14:13,737 - __main__ - INFO - Cập nhật thời gian: 22:14:13
2025-06-18 22:14:13,738 - __main__ - INFO - Ứng dụng đã sẵn sàng!
2025-06-18 22:14:28,829 - __main__ - INFO - Đang đóng ứng dụng...
2025-06-18 22:14:28,839 - models.database - INFO - Đã đóng kết nối database
2025-06-18 22:14:28,993 - __main__ - INFO - Đóng ứng dụng MyAI...
2025-06-18 22:15:47,429 - __main__ - INFO - Khởi động ứng dụng MyAI...
2025-06-18 22:15:47,475 - __main__ - DEBUG - Đang khởi tạo MainWindow...
2025-06-18 22:15:47,608 - models.database - INFO - Khởi tạo DatabaseManager...
2025-06-18 22:15:47,608 - models.database - DEBUG - Tạo kết nối ban đầu...
2025-06-18 22:15:47,609 - models.database - DEBUG - Thiết lập các tùy chọn SQLite...
2025-06-18 22:15:47,611 - models.database - DEBUG - Tạo các bảng...
2025-06-18 22:15:47,611 - models.database - DEBUG - Bắt đầu tạo các bảng...
2025-06-18 22:15:47,611 - models.database - INFO - Đã cập nhật schema cho bảng weather_data
2025-06-18 22:15:47,612 - models.database - INFO - Đã cập nhật schema cho bảng api_cache
2025-06-18 22:15:47,612 - models.database - INFO - Đã cập nhật schema cho bảng user_interactions_log
2025-06-18 22:15:47,612 - models.database - DEBUG - Tạo các index...
2025-06-18 22:15:47,612 - models.database - INFO - Đã tạo các bảng và index thành công
2025-06-18 22:15:47,612 - models.database - DEBUG - Khởi tạo connection pool...
2025-06-18 22:15:47,612 - models.database - DEBUG - Khởi tạo cache...
2025-06-18 22:15:47,612 - models.database - INFO - DatabaseManager đã được khởi tạo thành công
2025-06-18 22:15:47,614 - models.knowledge_base - INFO - Loaded 4 rules from H:\my_ai\models\knowledge_base.json.
2025-06-18 22:15:47,646 - views.components.greeting_frame - DEBUG - Khởi tạo GreetingFrame...
2025-06-18 22:15:47,661 - views.components.greeting_frame - DEBUG - Cập nhật lời chào và thời gian lần đầu...
2025-06-18 22:15:47,662 - views.components.greeting_frame - DEBUG - Cập nhật greeting_label với text: Chào buổi tối Dương Huy!
2025-06-18 22:15:47,663 - views.components.greeting_frame - DEBUG - Cập nhật greeting_label với text: Chào buổi tối Dương Huy!
2025-06-18 22:15:47,663 - views.components.greeting_frame - DEBUG - Khởi tạo GreetingFrame hoàn tất.
2025-06-18 22:15:47,736 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): api.openweathermap.org:80
2025-06-18 22:15:47,847 - urllib3.connectionpool - DEBUG - http://api.openweathermap.org:80 "GET /data/2.5/weather?q=Hanoi&appid=1cfcda7a3ee2a0f49e546a462ef6851b&units=metric&lang=vi HTTP/1.1" 200 523
2025-06-18 22:15:47,849 - views.components.weather_frame - DEBUG - Dữ liệu thời tiết từ WeatherService: {'city': 'Hanoi', 'temperature': 31, 'description': 'mưa nhẹ', 'humidity': 83, 'wind_speed': 6.36, 'pressure': 1003, 'visibility': 10000, 'dew_point': 31, 'feels_like': 38, 'temp_min': 31, 'temp_max': 31}
2025-06-18 22:15:47,849 - views.components.weather_frame - DEBUG - Dữ liệu thời tiết nhận được: {'city': 'Hanoi', 'temperature': 31, 'description': 'mưa nhẹ', 'humidity': 83, 'wind_speed': 6.36, 'pressure': 1003, 'visibility': 10000, 'dew_point': 31, 'feels_like': 38, 'temp_min': 31, 'temp_max': 31}
2025-06-18 22:15:47,867 - PIL.PngImagePlugin - DEBUG - STREAM b'IHDR' 16 13
2025-06-18 22:15:47,867 - PIL.PngImagePlugin - DEBUG - STREAM b'IDAT' 41 1741
2025-06-18 22:15:47,879 - views.components.weather_frame - DEBUG - Đã cập nhật icon thời tiết thành công: 04d
2025-06-18 22:15:47,879 - views.components.weather_frame - DEBUG - Cập nhật thông tin hàng đầu thành công.
2025-06-18 22:15:47,880 - views.components.weather_frame - DEBUG - Cập nhật labels chính thành công.
2025-06-18 22:15:47,880 - views.components.weather_frame - DEBUG - Cập nhật metrics thành công.
2025-06-18 22:15:47,881 - views.components.weather_frame - DEBUG - Cập nhật mô tả dự báo hàng ngày thành công.
2025-06-18 22:15:48,167 - __main__ - INFO - Đang khởi tạo các dịch vụ và bộ điều khiển...
2025-06-18 22:15:48,168 - controllers.inference_engine - INFO - Inference Engine initialized.
2025-06-18 22:15:48,169 - controllers.rule_suggester - INFO - Rule Suggester initialized.
2025-06-18 22:15:48,169 - __main__ - INFO - Đã khởi tạo tất cả các dịch vụ và bộ điều khiển
2025-06-18 22:15:48,169 - __main__ - INFO - Bắt đầu suy luận hệ chuyên gia...
2025-06-18 22:15:48,171 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): api.openweathermap.org:80
2025-06-18 22:15:48,259 - urllib3.connectionpool - DEBUG - http://api.openweathermap.org:80 "GET /data/2.5/weather?q=Hanoi&appid=1cfcda7a3ee2a0f49e546a462ef6851b&units=metric&lang=vi HTTP/1.1" 200 523
2025-06-18 22:15:48,260 - __main__ - INFO - Các sự kiện thu thập được: {'time_category': 'night', 'day_of_week': 'Wednesday', 'current_hour': 22, 'has_schedule': False, 'schedule_count': 0, 'schedule_activity': 'None', 'schedule_empty_or_flexible': True, 'recent_apps': ['App_2025-06-17 07:12:55', 'App_2025-06-17 07:11:57', 'App_2025-06-17 07:10:16'], 'vscode_status': 'closed', 'weather_condition': 'mưa'}
2025-06-18 22:15:48,260 - controllers.rule_suggester - INFO - Bắt đầu suy luận quy tắc từ facts...
2025-06-18 22:15:48,260 - controllers.inference_engine - INFO - Inference Engine initialized.
2025-06-18 22:15:48,260 - controllers.inference_engine - INFO - Bắt đầu suy luận với facts: {'time_category': 'night', 'day_of_week': 'Wednesday', 'current_hour': 22, 'has_schedule': False, 'schedule_count': 0, 'schedule_activity': 'None', 'schedule_empty_or_flexible': True, 'recent_apps': ['App_2025-06-17 07:12:55', 'App_2025-06-17 07:11:57', 'App_2025-06-17 07:10:16'], 'vscode_status': 'closed', 'weather_condition': 'mưa'}
2025-06-18 22:15:48,260 - controllers.inference_engine - INFO - Số lượng quy tắc: 4
2025-06-18 22:15:48,260 - controllers.inference_engine - INFO - 
Đánh giá quy tắc: rule_1_rainy_gym
2025-06-18 22:15:48,260 - controllers.inference_engine - INFO - Mô tả: Nếu trời mưa và có lịch tập Gym, đề xuất mang ô/áo mưa.
2025-06-18 22:15:48,260 - controllers.inference_engine - INFO - Đánh giá điều kiện: weather_condition contains mưa
2025-06-18 22:15:48,260 - controllers.inference_engine - INFO - Giá trị thực tế: mưa
2025-06-18 22:15:48,261 - controllers.inference_engine - DEBUG - Đánh giá điều kiện: fact_value=mưa, operator=contains, condition_value=mưa
2025-06-18 22:15:48,261 - controllers.inference_engine - DEBUG - Kết quả đánh giá: True
2025-06-18 22:15:48,261 - controllers.inference_engine - INFO - Đánh giá điều kiện: schedule_activity == Gym
2025-06-18 22:15:48,261 - controllers.inference_engine - INFO - Giá trị thực tế: None
2025-06-18 22:15:48,261 - controllers.inference_engine - DEBUG - Đánh giá điều kiện: fact_value=None, operator===, condition_value=Gym
2025-06-18 22:15:48,261 - controllers.inference_engine - DEBUG - Kết quả đánh giá: False
2025-06-18 22:15:48,261 - controllers.inference_engine - INFO - Điều kiện không thỏa mãn cho quy tắc 'rule_1_rainy_gym'
2025-06-18 22:15:48,261 - controllers.inference_engine - INFO - Quy tắc 'rule_1_rainy_gym' không được kích hoạt
2025-06-18 22:15:48,261 - controllers.inference_engine - INFO - 
Đánh giá quy tắc: rule_2_morning_vscode
2025-06-18 22:15:48,261 - controllers.inference_engine - INFO - Mô tả: Nếu là buổi sáng và VSCode chưa mở, đề xuất mở VSCode.
2025-06-18 22:15:48,261 - controllers.inference_engine - INFO - Đánh giá điều kiện: time_category == morning
2025-06-18 22:15:48,261 - controllers.inference_engine - INFO - Giá trị thực tế: night
2025-06-18 22:15:48,261 - controllers.inference_engine - DEBUG - Đánh giá điều kiện: fact_value=night, operator===, condition_value=morning
2025-06-18 22:15:48,261 - controllers.inference_engine - DEBUG - Kết quả đánh giá: False
2025-06-18 22:15:48,261 - controllers.inference_engine - INFO - Điều kiện không thỏa mãn cho quy tắc 'rule_2_morning_vscode'
2025-06-18 22:15:48,261 - controllers.inference_engine - INFO - Quy tắc 'rule_2_morning_vscode' không được kích hoạt
2025-06-18 22:15:48,261 - controllers.inference_engine - INFO - 
Đánh giá quy tắc: rule_3_weekend_relax
2025-06-18 22:15:48,261 - controllers.inference_engine - INFO - Mô tả: Nếu là cuối tuần và không có lịch trình cụ thể, đề xuất nghỉ ngơi/giải trí.
2025-06-18 22:15:48,261 - controllers.inference_engine - INFO - Đánh giá điều kiện: day_of_week in ['Saturday', 'Sunday']
2025-06-18 22:15:48,261 - controllers.inference_engine - INFO - Giá trị thực tế: Wednesday
2025-06-18 22:15:48,261 - controllers.inference_engine - DEBUG - Đánh giá điều kiện: fact_value=Wednesday, operator=in, condition_value=['Saturday', 'Sunday']
2025-06-18 22:15:48,261 - controllers.inference_engine - DEBUG - Kết quả đánh giá: False
2025-06-18 22:15:48,261 - controllers.inference_engine - INFO - Điều kiện không thỏa mãn cho quy tắc 'rule_3_weekend_relax'
2025-06-18 22:15:48,261 - controllers.inference_engine - INFO - Quy tắc 'rule_3_weekend_relax' không được kích hoạt
2025-06-18 22:15:48,262 - controllers.inference_engine - INFO - 
Đánh giá quy tắc: rule_4_afternoon_break
2025-06-18 22:15:48,262 - controllers.inference_engine - INFO - Mô tả: Nếu là buổi chiều và lịch trình trống, đề xuất nghỉ ngơi.
2025-06-18 22:15:48,262 - controllers.inference_engine - INFO - Đánh giá điều kiện: time_category == afternoon
2025-06-18 22:15:48,262 - controllers.inference_engine - INFO - Giá trị thực tế: night
2025-06-18 22:15:48,262 - controllers.inference_engine - DEBUG - Đánh giá điều kiện: fact_value=night, operator===, condition_value=afternoon
2025-06-18 22:15:48,262 - controllers.inference_engine - DEBUG - Kết quả đánh giá: False
2025-06-18 22:15:48,262 - controllers.inference_engine - INFO - Điều kiện không thỏa mãn cho quy tắc 'rule_4_afternoon_break'
2025-06-18 22:15:48,262 - controllers.inference_engine - INFO - Quy tắc 'rule_4_afternoon_break' không được kích hoạt
2025-06-18 22:15:48,262 - controllers.inference_engine - INFO - Kết thúc suy luận. Số hành động được kích hoạt: 0
2025-06-18 22:15:48,262 - controllers.rule_suggester - INFO - Đã suy luận được 0 recommendations
2025-06-18 22:15:48,262 - __main__ - INFO - Đề xuất: []
2025-06-18 22:15:48,263 - __main__ - INFO - Màu sắc giao diện được cập nhật.
2025-06-18 22:15:48,263 - __main__ - INFO - Cập nhật thời gian: 22:15:48
2025-06-18 22:15:48,263 - __main__ - INFO - Ứng dụng đã sẵn sàng!
2025-06-18 22:15:58,055 - __main__ - INFO - Đang đóng ứng dụng...
2025-06-18 22:15:58,056 - models.database - INFO - Đã đóng kết nối database
2025-06-18 22:15:58,187 - __main__ - INFO - Đóng ứng dụng MyAI...
